<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.8">
    <title>Reflexive Symmetrical Architecture (RSA) | An Interactive Exploration</title>
    <!-- CDN links for Chart.js and its plugin -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.0.2/dist/chartjs-plugin-annotation.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@700&family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* Variabel CSS untuk tema terang dan gelap */
        :root {
            --bg-color: #f8fafc;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border-color: #e2e8f0;
            --accent-color: #3b82f6;
            --accent-hover: #2563eb;
            --card-bg: #ffffff;
            --bg-secondary: #f1f5f9; /* Added for hover states */
        }

        .dark {
            --bg-color: #0D1117;
            --text-primary: #C9D1D9;
            --text-secondary: #8B949E;
            --border-color: #30363d;
            --accent-color: #22d3ee;
            --accent-hover: #67e8f9;
            --card-bg: #161B22;
            --bg-secondary: #161B22; /* Adjusted for dark mode hover */
        }

        /* Gaya dasar untuk body dan font */
        body {
            font-family: 'Roboto Mono', monospace;
            background-color: var(--bg-color);
            color: var(--text-primary);
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Exo 2', sans-serif;
            letter-spacing: 0.05em;
        }

        /* Gaya untuk navigasi desktop */
        .nav-link {
            transition: color 0.3s ease, border-color 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-link:hover, .nav-link.active {
            color: var(--accent-color);
            border-color: var(--accent-color);
        }

        /* Gaya untuk tombol bahasa */
        .lang-btn.active {
            background-color: var(--accent-color);
            color: var(--bg-color);
        }

        /* Gaya untuk tombol tema */
        .theme-btn {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }
        .theme-btn:hover {
            background-color: var(--accent-color);
            color: var(--card-bg);
        }

        /* Gaya untuk accordion */
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .accordion-content.hidden {
            max-height: 0 !important;
            padding-top: 0 !important;
            padding-bottom: 0 !important;
            opacity: 0;
        }
        .accordion-content:not(.hidden) {
            max-height: none;
            opacity: 1;
        }
        .accordion-btn:hover {
            background-color: var(--bg-secondary);
        }

        /* Gaya untuk chart container */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 500px;
            }
        }

        /* Gaya untuk tombol struktur */
        .structure-btn.active {
             border-color: var(--accent-color);
             box-shadow: 0 0 15px rgba(59, 130, 246, 0.3);
        }
        .dark .structure-btn.active {
             box-shadow: 0 0 15px rgba(34, 211, 238, 0.3);
        }
        .structure-btn.active h4 {
            color: var(--accent-color);
        }

        /* Gaya untuk menu mobile overlay */
        #mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            z-index: 40;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transform: translateY(-100%);
            opacity: 0;
            pointer-events: none;
            transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.35s ease;
        }

        #mobile-menu-overlay.open {
            transform: translateY(0);
            opacity: 1;
            pointer-events: auto;
        }

        #mobile-menu-overlay .mobile-nav-link {
            font-size: 1.5rem;
            padding: 0.75rem 0;
            color: #ffffff; 
            transition: color 0.3s ease;
        }

        #mobile-menu-overlay .mobile-nav-link:hover {
            color: var(--accent-color);
        }
        
        /* Gaya untuk range sliders */
        .range-slider {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 8px;
            background: var(--border-color);
            border-radius: 5px;
            outline: none;
            opacity: 0.7;
            transition: opacity .2s;
        }
        .range-slider:hover {
            opacity: 1;
        }
        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: var(--accent-color);
            cursor: pointer;
            border-radius: 50%;
            border: 2px solid var(--card-bg);
            box-shadow: 0 0 5px rgba(0,0,0,0.2);
        }
        .range-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: var(--accent-color);
            cursor: pointer;
            border-radius: 50%;
            border: 2px solid var(--card-bg);
            box-shadow: 0 0 5px rgba(0,0,0,0.2);
        }
        .number-input {
            background-color: var(--bg-secondary);
        }

        /* Gaya untuk dynamic background */
        #hero, #whitepaper, #model, #framework {
            position: relative;
            overflow: hidden;
        }

        #hero::before {
            content: '';
            position: absolute;
            inset: 0;
            z-index: -1;
            background: repeating-linear-gradient(
                45deg,
                #ff6b6b, #ff6b6b 10%, #feca57 10%, #feca57 20%,
                #1dd1a1 20%, #1dd1a1 30%, #5f27cd 30%, #5f27cd 40%,
                #48dbfb 40%, #48dbfb 50%
            );
            background-size: 400% 400%;
            animation: ribbonFlow 30s linear infinite alternate;
            opacity: 0.15;
            filter: blur(10px);
        }

        #whitepaper::before {
            content: '';
            position: absolute;
            inset: 0;
            z-index: -1;
            background: repeating-linear-gradient(
                -45deg,
                #4a90e2, #4a90e2 10%, #9b59b6 10%, #9b59b6 20%,
                #3498db 20%, #3498db 30%, #8e44ad 30%, #8e44ad 40%,
                #2ecc71 40%, #2ecc71 50%
            );
            background-size: 400% 400%;
            animation: ribbonFlowWhitepaper 35s linear infinite reverse;
            opacity: 0.1;
            filter: blur(8px);
        }

        @keyframes ribbonFlowWhitepaper {
            0% { background-position: 100% 100%; }
            100% { background-position: 0% 0%; }
        }

        #model::before {
            content: '';
            position: absolute;
            inset: 0;
            z-index: -1;
            background: repeating-linear-gradient(
                90deg,
                #a1a1a1, #a1a1a1 10%, #cccccc 10%, #cccccc 20%,
                #6b6b6b 20%, #6b6b6b 30%, #bbbbbb 30%, #bbbbbb 40%,
                #d1d1d1 40%, #d1d1d1 50%
            );
            background-size: 300% 300%;
            animation: ribbonFlowModel 25s ease-in-out infinite;
            opacity: 0.08;
            filter: blur(6px);
        }

        @keyframes ribbonFlowModel {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        #framework::before {
            content: '';
            position: absolute;
            inset: 0;
            z-index: -1;
            background: repeating-linear-gradient(
                135deg,
                #27ae60, #27ae60 10%, #2ecc71 10%, #2ecc71 20%,
                #f1c40f 20%, #f1c40f 30%, #e67e22 30%, #e67e22 40%,
                #d35400 40%, #d35400 50%
            );
            background-size: 450% 450%;
            animation: ribbonFlowFramework 40s linear infinite alternate-reverse;
            opacity: 0.12;
            filter: blur(12px);
        }

        @keyframes ribbonFlowFramework {
            0% { background-position: 0% 100%; }
            100% { background-position: 100% 0%; }
        }

        @keyframes ribbonFlow {
            0% { background-position: 0% 0%; }
            100% { background-position: 100% 100%; }
        }

        /* Tailwind CSS */
        *, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.16 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0px}.top-0{top:0px}.top-4{top:1rem}.right-6{right:1.5rem}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.mb-12{margin-bottom:3rem}.mb-2{margin-bottom:0.5rem}.mb-4{margin-bottom:1rem}.mr-2{margin-right:0.5rem}.mt-1{margin-top:0.25rem}.mt-2{margin-top:0.5rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.mb-3{margin-bottom:0.75rem}.ml-4{margin-left:1rem}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.hidden{display:none}.h-10{height:2.5rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-8{height:2rem}.max-h-\[450px\]{max-height:450px}.min-h-\[100px\]{min-height:100px}.w-10{width:2.5rem}.w-28{width:7rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-8{width:2rem}.w-full{width:100%}.max-w-2xl{max-width:42rem}.max-w-3xl{max-width:48rem}.max-w-4xl{max-width:56rem}.max-w-lg{max-width:32rem}.max-w-sm{max-width:24rem}.max-w-xs{max-width:20rem}.cursor-pointer{cursor:pointer}.list-inside{list-style-position:inside}.list-disc{list-style-type:disc}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.space-x-2 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.5rem * var(--tw-space-x-reverse));margin-left:calc(0.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-3 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.75rem * var(--tw-space-x-reverse));margin-left:calc(0.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-4 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-8 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(2rem * var(--tw-space-x-reverse));margin-left:calc(2rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.25rem * var(--tw-space-y-reverse))}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.space-y-4 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.space-y-8 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(2rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2rem * var(--tw-space-y-reverse))}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.scroll-smooth{scroll-behavior:smooth}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-md{border-radius:0.375rem}.rounded-xl{border-radius:0.75rem}.border{border-width:1px}.border-2{border-width:2px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-\[var\(--accent-color\)\]{border-color:var(--accent-color)}.border-\[var\(--border-color\)\]{border-color:var(--border-color)}.bg-\[var\(--accent-color\)\]{background-color:var(--accent-color)}.bg-\[var\(--card-bg\)\]{background-color:var(--card-bg)}.bg-black\/30{background-color:rgb(0 0 0 / 0.3)}.bg-\[var\(--bg-primary\)\]{background-color:var(--bg-primary)}.bg-gradient-to-r{background-image:linear-gradient(to right, var(--tw-gradient-stops))}.from-blue-600{--tw-gradient-from:#2563eb var(--tw-gradient-from-position);--tw-gradient-to:rgb(37 99 235 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-green-500{--tw-gradient-from:#22c55e var(--tw-gradient-from-position);--tw-gradient-to:rgb(34 197 94 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-red-500{--tw-gradient-from:#ef4444 var(--tw-gradient-from-position);--tw-gradient-to:rgb(239 68 68 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-yellow-500{--tw-gradient-from:#eab308 var(--tw-gradient-from-position);--tw-gradient-to:rgb(234 179 8 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.to-purple-600{--tw-gradient-to:#9333ea var(--tw-gradient-to-position)}.to-green-600{--tw-gradient-to:#16a34a var(--tw-gradient-to-position)}.to-red-600{--tw-gradient-to:#dc2626 var(--tw-gradient-to-position)}.to-yellow-600{--tw-gradient-to:#ca8a04 var(--tw-gradient-to-position)}.p-0\.5{padding:0.125rem}.p-2{padding:0.5rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-0\.5{padding-top:0.125rem;padding-bottom:0.125rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-16{padding-top:4rem;padding-bottom:4rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-24{padding-top:6rem;padding-bottom:6rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-1{padding-bottom:0.25rem}.pr-2{padding-right:0.5rem}.pt-4{padding-top:1rem}.text-left{text-align:left}.text-center{text-align:center}.font-mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.leading-relaxed{line-height:1.625}.leading-tight{line-height:1.25}.text-\[var\(--accent-color\)\]{color:var(--accent-color)}.text-\[var\(--text-primary\)\]{color:var(--text-primary)}.text-\[var\(--text-secondary\)\]{color:var(--text-secondary)}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-green-400{--tw-text-opacity:1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.text-red-400{--tw-text-opacity:1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.opacity-10{opacity:0.1}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.backdrop-blur-lg{--tw-backdrop-blur:blur(16px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-shadow{transition-property:box-shadow;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-300{transition-duration:300ms}.hover\:scale-105:hover{--tw-scale-x:1.05;--tw-scale-y:1.05;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:scale-110:hover{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:bg-white:hover{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.hover\:bg-opacity-20:hover{--tw-bg-opacity:0.2}.hover\:bg-\[var\(--accent-color\)\]:hover{background-color:var(--accent-color)}.hover\:bg-\[var\(--accent-hover\)\]:hover{background-color:var(--accent-hover)}.hover\:bg-\[var\(--bg-secondary\)\]:hover{background-color:var(--bg-secondary)}.hover\:text-white:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.hover\:text-\[var\(--accent-hover\)\]:hover{color:var(--accent-hover)}.hover\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.focus\:border-\[var\(--accent-color\)\]:focus{border-color:var(--accent-color)}.focus\:ring:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-\[var\(--accent-color\)\]:focus{--tw-ring-color:var(--accent-color)}.focus\:ring-opacity-50:focus{--tw-ring-opacity:0.5}@media (min-width: 640px){.sm\:block{display:block}.sm\:flex-row{flex-direction:row}}@media (min-width: 768px){.md\:col-span-1{grid-column:span 1 / span 1}.md\:col-span-2{grid-column:span 2 / span 2}.md\:block{display:block}.md\:flex{display:flex}.md\:hidden{display:none}.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.md\:gap-12{gap:3rem}.md\:py-24{padding-top:6rem;padding-bottom:6rem}.md\:py-40{padding-top:10rem;padding-bottom:10rem}.md\:text-3xl{font-size:1.875rem;line-height:2.25rem}.md\:text-6xl{font-size:3.75rem;line-height:1}.md\:text-xl{font-size:1.25rem;line-height:1.75rem}}@media (min-width: 1024px){.lg\:col-span-1{grid-column:span 1 / span 1}.lg\:col-span-2{grid-column:span 2 / span 2}.lg\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}}@media (prefers-color-scheme: dark){.dark\:block{display:block}.dark\:hidden{display:none}}</style>
</head>
<body class="antialiased">

    <header id="header" class="bg-black/30 backdrop-blur-lg sticky top-0 z-50 border-b border-[var(--border-color)]">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <a href="/#projects" class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center text-white text-lg font-bold">
                        AC
                    </div>
                    <span class="text-sm text-[var(--text-secondary)] hidden sm:block">← Back to Portfolio</span>
                </a>
                <div class="hidden md:block">
                    <h1 class="text-2xl md:text-3xl font-bold">
                        <span style="color: var(--accent-color)">R</span>SA
                    </h1>
                </div>
            </div>
            <div class="hidden md:flex items-center space-x-8">
                <a href="#hero" class="nav-link font-medium pb-1" data-lang-key="navHome">Home</a>
                <a href="#introduction" class="nav-link font-medium pb-1" data-lang-key="navIntro">Introduction</a>
                <a href="#theory" class="nav-link font-medium pb-1" data-lang-key="navTheory">The Theory</a>
                <a href="#model" class="nav-link font-medium pb-1" data-lang-key="navModel">The Model</a>
                <a href="#synthesis" class="nav-link font-medium pb-1" data-lang-key="navSynthesis">The Synthesis</a>
                <a href="#framework" class="nav-link font-medium pb-1" data-lang-key="navFramework">Framework</a>
                <a href="#tools" class="nav-link font-medium pb-1" data-lang-key="navTools">Tools</a>
                <a href="#whitepaper" class="nav-link font-medium pb-1" data-lang-key="navWhitepaper">Whitepaper</a>
                <div id="lang-switcher" class="flex items-center border border-[var(--border-color)] rounded-full p-0.5">
                    <button class="lang-btn text-xs font-semibold px-3 py-1 rounded-full bg-[var(--accent-color)] text-white" data-lang="en">EN</button>
                    <button class="lang-btn text-xs font-semibold px-3 py-1 rounded-full text-[var(--text-secondary)]" data-lang="id">ID</button>
                </div>
                <button onclick="toggleTheme()" class="theme-btn p-2 rounded-full hover:scale-110 transition-all">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 moon-icon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 sun-icon"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
                </button>
            </div>
            <div class="md:hidden flex items-center space-x-4">
                <div id="lang-switcher-mobile" class="flex items-center border border-[var(--border-color)] rounded-full p-0.5">
                    <button class="lang-btn text-xs font-semibold px-2 py-0.5 rounded-full bg-[var(--accent-color)] text-white" data-lang="en">EN</button>
                    <button class="lang-btn text-xs font-semibold px-2 py-0.5 rounded-full text-[var(--text-secondary)]" data-lang="id">ID</button>
                </div>
                <button onclick="toggleTheme()" class="theme-btn p-2 rounded-full">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 moon-icon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 sun-icon"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
                </button>
                <button id="mobile-menu-toggle" class="theme-btn p-2 rounded-full">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </nav>
    </header>

    <!-- Overlay menu mobile -->
    <div id="mobile-menu-overlay">
        <button id="close-mobile-menu" class="absolute top-4 right-6 text-white text-3xl p-2 rounded-full hover:bg-white hover:bg-opacity-20 transition-colors">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
        </button>
        <ul class="flex flex-col items-center space-y-4">
            <li><a href="#hero" class="mobile-nav-link" data-lang-key="navHome">Home</a></li>
            <li><a href="#introduction" class="mobile-nav-link" data-lang-key="navIntro">Introduction</a></li>
            <li><a href="#theory" class="mobile-nav-link" data-lang-key="navTheory">The Theory</a></li>
            <li><a href="#model" class="mobile-nav-link" data-lang-key="navModel">The Model</a></li>
            <li><a href="#synthesis" class="mobile-nav-link" data-lang-key="navSynthesis">The Synthesis</a></li>
            <li><a href="#framework" class="mobile-nav-link" data-lang-key="navFramework">Framework</a></li>
            <li><a href="#tools" class="mobile-nav-link" data-lang-key="navTools">Tools</a></li>
            <li><a href="#whitepaper" class="mobile-nav-link" data-lang-key="navWhitepaper">Whitepaper</a></li>
        </ul>
    </div>

    <main>
        <section id="hero" class="py-24 md:py-40 text-center relative overflow-hidden">
            <div class="container mx-auto px-6 relative">
                <h2 class="text-4xl md:text-6xl font-bold leading-tight uppercase" data-lang-key="heroTitle">Reflexive Symmetrical Architecture</h2>
                <p class="mt-4 text-lg md:text-xl text-[var(--text-secondary)] max-w-3xl mx-auto" data-lang-key="heroSubtitle">A unified theory of price-time, built on the first principle of recursive binary division.</p>
                <h3 class="mt-8 text-xl text-[var(--accent-color)]" data-lang-key="heroAuthor">By Adiyat Coto</h3>
            </div>
        </section>

        <section id="introduction" class="py-16 md:py-24">
             <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h3 class="text-3xl font-bold" data-lang-key="introTitle">An Introduction to RSA</h3>
                </div>
                <div id="intro-content-container" data-lang-key="introContent" class="max-w-4xl mx-auto text-lg space-y-8 text-left leading-relaxed text-[var(--text-secondary)]"></div>
            </div>
        </section>

        <section id="theory" class="py-16 md:py-24 bg-[var(--card-bg)] border-y border-[var(--border-color)]">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h3 class="text-3xl font-bold" data-lang-key="theoryTitle">The Theory</h3>
                    <div data-lang-key="theoryIntro"><p class="mt-4 text-lg text-[var(--text-secondary)] max-w-3xl mx-auto">This section details the core components of the RSA framework. Explore each concept to understand the mechanics behind the model.</p></div>
                </div>
                <div class="max-w-4xl mx-auto">
                    <div id="accordion-container" class="space-y-4">
                    </div>
                </div>
            </div>
        </section>

        <section id="model" class="py-16 md:py-24">
            <div class="container mx-auto px-6 relative">
                <div class="text-center mb-12">
                    <h3 class="text-3xl font-bold" data-lang-key="modelTitle">The RRA Model</h3>
                    <p class="mt-2 text-[var(--text-secondary)]" data-lang-key="modelSubtitle">Interact with the core spatial model. Input market data to dynamically calculate and visualize the RRA levels.</p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 md:gap-12">
                    <div class="lg:col-span-1 bg-[var(--card-bg)] p-6 rounded-lg border border-[var(--border-color)]">
                        <h4 class="text-xl font-semibold mb-4" data-lang-key="modelInputTitle">Input Variables</h4>
                        <div class="space-y-6">
                            <div>
                                <label for="prev_high" class="block text-sm font-medium text-[var(--text-secondary)]" data-lang-key="inputPrevHigh">Previous High (Hp)</label>
                                <div class="flex items-center space-x-2 mt-1">
                                    <input type="range" id="prev_high_slider" value="1.0780" class="range-slider">
                                    <input type="number" id="prev_high" value="1.0780" step="0.0001" class="number-input w-28 rounded-md border-[var(--border-color)] shadow-sm focus:border-[var(--accent-color)] focus:ring focus:ring-[var(--accent-color)] focus:ring-opacity-50 p-2 text-center">
                                </div>
                            </div>
                            <div>
                                <label for="prev_low" class="block text-sm font-medium text-[var(--text-secondary)]" data-lang-key="inputPrevLow">Previous Low (Lp)</label>
                                <div class="flex items-center space-x-2 mt-1">
                                    <input type="range" id="prev_low_slider" value="1.0700" class="range-slider">
                                    <input type="number" id="prev_low" value="1.0700" step="0.0001" class="number-input w-28 rounded-md border-[var(--border-color)] shadow-sm focus:border-[var(--accent-color)] focus:ring focus:ring-[var(--accent-color)] focus:ring-opacity-50 p-2 text-center">
                                </div>
                            </div>
                            <div>
                                <label for="curr_high" class="block text-sm font-medium text-[var(--text-secondary)]" data-lang-key="inputCurrHigh">Current High (Hc)</label>
                                <div class="flex items-center space-x-2 mt-1">
                                    <input type="range" id="curr_high_slider" value="1.0750" class="range-slider">
                                    <input type="number" id="curr_high" value="1.0750" step="0.0001" class="number-input w-28 rounded-md border-[var(--border-color)] shadow-sm focus:border-[var(--accent-color)] focus:ring focus:ring-[var(--accent-color)] focus:ring-opacity-50 p-2 text-center">
                                </div>
                            </div>
                            <div>
                                <label for="curr_low" class="block text-sm font-medium text-[var(--text-secondary)]" data-lang-key="inputCurrLow">Current Low (Lc)</label>
                                <div class="flex items-center space-x-2 mt-1">
                                    <input type="range" id="curr_low_slider" value="1.0710" class="range-slider">
                                    <input type="number" id="curr_low" value="1.0710" step="0.0001" class="number-input w-28 rounded-md border-[var(--border-color)] shadow-sm focus:border-[var(--accent-color)] focus:ring focus:ring-[var(--accent-color)] focus:ring-opacity-50 p-2 text-center">
                                </div>
                            </div>
                        </div>
                        <div class="mt-6 border-t pt-4 border-[var(--border-color)]">
                             <h4 class="text-lg font-semibold mb-2" data-lang-key="modelCalcTitle">Core Calculations</h4>
                             <div class="text-sm space-y-2 text-[var(--text-secondary)]">
                                <p><strong data-lang-key="calcVu">Volatility Unit (Vu):</strong> <span id="vu_output">0.0080</span></p>
                                <p><strong data-lang-key="calcQv">25% Quantum (qv):</strong> <span id="qv_output">0.0020</span></p>
                             </div>
                        </div>
                    </div>
                    <div class="lg:col-span-2 bg-[var(--card-bg)] p-6 rounded-lg border border-[var(--border-color)]">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="md:col-span-2">
                                <h4 class="text-xl font-semibold mb-4 text-center" data-lang-key="vizTitle">RRA Visualization</h4>
                                <div class="chart-container">
                                    <canvas id="rraChart"></canvas>
                                </div>
                            </div>
                            <div class="md:col-span-1">
                                <h4 class="text-xl font-semibold mb-4 text-center" data-lang-key="levelsTitle">Calculated Levels</h4>
                                <div id="levels-output" class="space-y-3 text-sm overflow-auto max-h-[450px] pr-2">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="synthesis" class="py-16 md:py-24 bg-[var(--card-bg)] border-y border-[var(--border-color)]">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h3 class="text-3xl font-bold" data-lang-key="synthesisTitle">The Synthesis: Price-Time Relativity</h3>
                    <p class="mt-2 text-[var(--text-secondary)]" data-lang-key="synthesisSubtitle">Understand how the spatial (RRA) and temporal (Chronos Cycles) dimensions merge to form predictive setups.</p>
                </div>
                <div id="synthesis-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                </div>
            </div>
        </section>

        <section id="framework" class="py-16 md:py-24">
            <div class="container mx-auto px-6 relative">
                <div class="text-center mb-12">
                    <h3 class="text-3xl font-bold" data-lang-key="frameworkTitle">The Time Framework</h3>
                    <p class="mt-2 text-[var(--text-secondary)]" data-lang-key="frameworkSubtitle">Visualize the nested fractal structure of the Chronos Cycles hierarchy.</p>
                </div>
                <div id="framework-pyramid" class="max-w-3xl mx-auto flex flex-col items-center space-y-4">
                </div>
                <div id="framework-description" class="max-w-3xl mx-auto mt-8 p-6 bg-[var(--card-bg)] rounded-lg border border-[var(--border-color)] min-h-[100px]"></div>
            </div>
        </section>

         <section id="tools" class="py-16 md:py-24 bg-[var(--card-bg)] border-y border-[var(--border-color)]">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h3 class="text-3xl font-bold" data-lang-key="toolsTitle">Tools & Resources</h3>
                    <p class="mt-2 text-[var(--text-secondary)]" data-lang-key="toolsSubtitle">Practical tools and further reading to apply the RSA framework.</p>
                </div>
                <div id="resources-container" class="grid grid-cols-1 md:grid-cols-3 gap-8">
                </div>
            </div>
        </section>

        <section id="whitepaper" class="py-16 md:py-24 relative">
            <div class="container mx-auto px-6 text-center">
                <h3 class="text-3xl font-bold" data-lang-key="downloadTitle">Download the Whitepaper</h3>
                <p class="mt-4 text-lg text-[var(--text-secondary)] max-w-2xl mx-auto" data-lang-key="downloadDesc">Access the complete RSA framework documentation with detailed explanations, mathematical formulations, and practical applications.</p>
                <div class="mt-8 flex flex-col sm:flex-row gap-4 justify-center">
                    <a href="/docs/RSA_Whitepaper.pdf" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center px-8 py-4 bg-[var(--accent-color)] hover:bg-[var(--accent-hover)] text-white rounded-full font-semibold transition-all duration-300 hover:scale-105">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                        <span data-lang-key="downloadBtn">Download PDF</span>
                    </a>
                    <a href="/#projects" class="inline-flex items-center justify-center px-8 py-4 border-2 border-[var(--accent-color)] text-[var(--accent-color)] hover:bg-[var(--accent-color)] hover:text-white rounded-full font-semibold transition-all duration-300 hover:scale-105">
                        <span data-lang-key="backBtn">Back to Portfolio</span>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-[var(--card-bg)] border-t border-[var(--border-color)] text-[var(--text-secondary)]">
        <div class="container mx-auto px-6 py-8 text-center">
            <p>© 2025 Adiyat Coto. All rights reserved.</p>
            <p class="text-sm mt-2" data-lang-key="footerText">An interactive interpretation of the "Reflexive Symmetrical Architecture" whitepaper.</p>
        </div>
    </footer>

    <script>
        const langData = {
            en: {
                navHome: "Home",
                navIntro: "Introduction",
                navTheory: "The Theory",
                navModel: "The Model",
                navSynthesis: "The Synthesis",
                navFramework: "Framework",
                navTools: "Tools",
                navWhitepaper: "Whitepaper",
                heroTitle: "Reflexive Symmetrical Architecture",
                heroSubtitle: "A unified theory of price-time, built on the first principle of recursive binary division.",
                heroAuthor: "By Adiyat Coto",
                introTitle: "An Introduction to RSA",
                introContent: `<div class="space-y-4">
                    <p><strong>What is RSA?</strong> RSA, or Reflexive Symmetrical Architecture, is a complete framework for market analysis. It unifies the study of price (space) and session structure (time) into a single, cohesive theory.</p>
                    <p><strong>Philosophical Background:</strong> The framework rejects static tools and views the market as a living, dynamic system. Its core philosophy is the "Axiom of Binary Division" — the idea that all market structures emerge from a simple, recursive division by two, reflecting a natural balance between opposing forces.</p>
                    <p><strong>Core Components:</strong>
                        <ul class="list-disc list-inside ml-4 mt-2">
                            <li><strong>RRA (Reflex Range Architecture):</strong> The spatial component. It maps *how far* price can potentially move by projecting symmetrical levels from the previous session's volatility.</li>
                            <li><strong>Chronos Cycles:</strong> The temporal component. It maps the *narrative flow* of a trading session by dividing it into four predictable phases, suggesting *when* certain behaviors are likely to occur.</li>
                        </ul>
                    </p>
                    <p><strong>What makes it unique?</strong> RSA's uniqueness lies in its dynamic, forward-looking nature. It uses only the most recent session's data (T-1) to project possibilities, making it highly adaptive to current market conditions, unlike lagging indicators that rely on extensive historical data.</p>
                </div>`,
                theoryTitle: "The Theory",
                theoryIntro: "This section details the core components of the RSA framework. Explore each concept to understand the mechanics behind the model.",
                modelTitle: "The RRA Model",
                modelSubtitle: "Interact with the core spatial model. Input market data to dynamically calculate and visualize the RRA levels.",
                modelInputTitle: "Input Variables",
                inputPrevHigh: "Previous High (Hp)",
                inputPrevLow: "Previous Low (Lp)",
                inputCurrHigh: "Current High (Hc)",
                inputCurrLow: "Current Low (Lc)",
                modelCalcTitle: "Core Calculations",
                calcVu: "Volatility Unit (Vu):",
                calcQv: "25% Quantum (qv):",
                vizTitle: "RRA Visualization",
                levelsTitle: "Calculated Levels",
                synthesisTitle: "The Synthesis: Price-Time Relativity",
                synthesisSubtitle: "Understand how the spatial (RRA) and temporal (Chronos Cycles) dimensions merge to form predictive setups.",
                frameworkTitle: "The Time Framework",
                frameworkSubtitle: "Visualize the nested fractal structure of the Chronos Cycles hierarchy.",
                macroTitle: "Macro-Structure",
                macroContent: "Yearly, Semester, Quarterly, Monthly",
                mesoTitle: "Meso-Structure",
                mesoContent: "Weekly, Daily",
                microTitle: "Micro-Structure",
                microContent: "4-Hour, 1-Hour, 15-Min, 1-Min",
                macroDesc: "<strong>Purpose:</strong> To establish the long-term, dominant market trend and overall regime. RRA levels on these timeframes act as powerful gravitational fields that influence all smaller price movements. Analysis here prevents fighting the primary market tide.",
                mesoDesc: "<strong>Purpose:</strong> To define the tactical plan for the week or day. The weekly range sets the battlefield, while the daily chart reveals the specific struggles for key RRA levels within that context. This is the primary operational timeframe.",
                microDesc: "<strong>Purpose:</strong> For precise trade execution and management. This is the 'ground level' where the four phases of the Chronos Cycle become most apparent. Entries and exits are timed by observing price interaction with daily RRA levels within these intraday cycles.",
                frameworkDescDefault: "Click a structure level above to see its detailed purpose and context.",
                toolsTitle: "Tools & Resources",
                toolsSubtitle: "Practical tools and further reading to apply the RSA framework.",
                tool1Title: "Multi-Timeframe Analysis",
                tool1Desc: "An article explaining the core concept of using a top-down approach to establish directional bias, a foundational practice for RSA.",
                tool1Url: "https://medium.com/@coto.adiyat/multi-timeframe-analysis-on-stocks-and-currencies-market-532d99e3eac5",
                tool2Title: "Auto Residual Range Calculator",
                tool2Desc: "The official TradingView indicator that automatically calculates and displays the RRA levels on your chart.",
                tool2Url: "https://medium.com/@coto.adiyat/auto-residual-range-calculator-for-tradingview-ce8bfdbd5ad2",
                tool3Title: "Multi-Timeframe Bias Analyzer",
                tool3Desc: "A companion TradingView tool to consolidate and visualize the directional bias across multiple timeframes at a glance.",
                tool3Url: "https://medium.com/@coto.adiyat/the-multi-timeframe-bias-analyzer-8d5916d940a3",
                readMore: "Read More",
                downloadTitle: "Download the Whitepaper",
                downloadDesc: "Access the complete RSA framework documentation with detailed explanations, mathematical formulations, and practical applications.",
                downloadBtn: "Download PDF",
                backBtn: "Back to Portfolio",
                footerText: "An interactive interpretation of the \"Reflexive Symmetrical Architecture\" whitepaper.",
                accordionData: [
                    { title: 'Core Terminology', content: `<ul><li class="mb-2"><strong>RSA (Reflexive Symmetrical Architecture):</strong> The complete, unified framework that combines both price and time analysis. It operates on the principle that the market is both reflexive (participant behavior influences outcomes) and symmetrical (movements balance around a central point).</li><li class="mb-2"><strong>RRA (Reflex Range Architecture):</strong> The <strong>spatial (price)</strong> component of RSA. It maps *how far* price can move by projecting symmetrical levels based on previous volatility.</li><li><strong>Chronos Cycles:</strong> The <strong>temporal (time)</strong> component of RSA. It maps the *narrative flow* of a session by dividing it into four predictable phases, suggesting *when* certain price actions are likely to occur.</li></ul>` },
                    { title: 'The Axiom of Binary Division', content: `The structural integrity of RSA rests upon a single, self-evident truth: The Axiom of Binary Division. This principle posits that any whole unit within a market context—be it of price potential or time duration—is subject to a natural, recursive division by two. This reflects the market's fundamental duality: buy vs. sell, expansion vs. contraction. Every complex market behavior is an emergent property of this irreducible, binary foundation.` },
                    { title: 'RRA Conceptual Foundations', content: `<ul class="list-disc list-inside space-y-2"><li><strong>Dynamic Equilibrium (EQ):</strong> The absolute center of the session's price field, calculated continuously as the arithmetic mean of the session's evolving high and low. It is the point of 'fair value' toward which price is perpetually drawn.</li><li><strong>Symmetrical Envelopes:</strong> Mirrored layers of potential energy (R-levels for resistance, S-levels for support) that expand from the EQ. They are not targets but energetic boundaries that define the probable limits of expansion and contraction.</li><li><strong>Spatial Memory:</strong> RRA posits that price-space holds memory. As price interacts with a level, it energizes that zone. Upon a retest, that zone will act as a high-probability reaction point, demonstrating structural polarity.</li></ul>` },
                    { title: 'Deeper Theoretical Foundations', content: `<div class="space-y-4"><div><h4 class="font-semibold text-[var(--text-primary)]">Parallels with Quantum Mechanics</h4><p>The concept of a 25% volatility quantum draws a parallel to the quantization of energy in physics. Just as energy in an atom exists in discrete levels, RSA posits that market volatility expresses itself in discrete, probabilistic packets. Price does not move smoothly; it "jumps" between these quantized volatility states.</p></div><div><h4 class="font-semibold text-[var(--text-primary)]">Information Theory Basis</h4><p>The framework's reliance on T-1 data (the previous session's range) assumes that the most recent data contains the maximum actionable information and the least noise. By intentionally limiting its "memory", RSA prioritizes signal over noise, creating a highly adaptive system.</p></div><div><h4 class="font-semibold text-[var(--text-primary)]">Complexity Science & Emergence</h4><p>RSA is an example of emergence, where simple, deterministic rules give rise to complex, unpredictable behavior. The framework models the underlying geometric and temporal constraints within which this complex behavior unfolds. The intricate patterns on a chart are an emergent property of these foundational rules.</p></div><div><h4 class="font-semibold text-[var(--text-primary)]">Market Ecology Perspective</h4><p>RSA treats the market as a natural ecological system. Its rules are derived from observation of the market's inherent properties—symmetry, fractal nature, and reflexive feedback loops. RRA and Chronos Cycles are maps of the natural laws governing energy flow in this financial ecosystem.</p></div></div>` }
                ],
                synthesisData: [
                    { title: 'The Spring-Coil', icon: '⧓', description: 'Price remains tightly range-bound between the R1 and S1 levels throughout the Early and Mid Phases. This failure to expand indicates a significant buildup of compressive energy, predicting a volatile, expansive breakout during the Late Phase.' },
                    { title: 'The Momentum Thrust', icon: '⭢', description: 'After establishing an anchor, price accelerates decisively through the R3/S3 level early in the Late Phase. This action confirms strong trend continuation and suggests market participants are targeting higher expansion levels with confidence.' },
                    { title: 'The Climactic Reversal', icon: '⥀', description: 'Price tags a major expansion level (e.g., R6) during the Final Phase. This represents a climactic, often exhaustive, move. It is a classic high-probability signal for a stall and a reversion trade back toward EQ.' }
                ],
                levelZoneExpansion: "Expansion Zone",
                levelZoneNeutral: "Neutral Zone",
                levelZoneContraction: "Contraction Zone",
                levelDescExpansion: "Indicates trend enthusiasm and potential exhaustion.",
                levelDescNeutral: "Reflects 1:1 energy extension from previous session.",
                levelDescContraction: "Indicates market indecision and energy consolidation."
            },
            id: {
                navHome: "Beranda",
                navIntro: "Pendahuluan",
                navTheory: "Teori",
                navModel: "Model",
                navSynthesis: "Sintesis",
                navFramework: "Kerangka Waktu",
                navTools: "Perangkat",
                navWhitepaper: "Dokumen Utama",
                heroTitle: "Arsitektur Simetris Refleksif",
                heroSubtitle: "Sebuah teori terpadu yang memetakan ruang dan waktu harga, dibangun di atas prinsip dasar pembagian biner yang terus berulang.",
                heroAuthor: "Oleh Adiyat Coto",
                introTitle: "Pengenalan RSA",
                introContent: `<div class="space-y-4">
                    <p><strong>Apa itu RSA?</strong> RSA, atau Arsitektur Simetris Refleksif, adalah sebuah kerangka kerja analisis pasar yang lengkap. Ini menyatukan studi tentang harga (ruang) dan struktur sesi (waktu) ke dalam satu teori yang utuh.</p>
                    <p><strong>Latar Belakang Filosofis:</strong> Kerangka kerja ini menolak perangkat statis dan memandang pasar sebagai sistem yang hidup dan dinamis. Filosofi intinya adalah "Aksioma Pembagian Biner"—gagasan bahwa semua struktur pasar muncul dari pembagian dua yang sederhana dan berulang, yang mencerminkan keseimbangan alami antara kekuatan yang berlawanan.</p>
                    <p><strong>Komponen Inti:</strong>
                        <ul class="list-disc list-inside ml-4 mt-2">
                            <li><strong>RRA (Arsitektur Rentang Refleksif):</strong> Komponen spasial. Ini memetakan *seberapa jauh* harga berpotensi bergerak dengan memproyeksikan level-level simetris berdasarkan volatilitas sesi sebelumnya.</li>
                            <li><strong>Siklus Chronos:</strong> Komponen temporal. Ini memetakan *alur cerita* sebuah sesi perdagangan dengan membaginya menjadi empat fase yang dapat diprediksi, memberi petunjuk *kapan* perilaku harga tertentu kemungkinan akan terjadi.</li>
                        </ul>
                    </p>
                    <p><strong>Apa yang membuatnya unik?</strong> Keunikan RSA terletak pada sifatnya yang dinamis dan berorientasi ke depan. Ia hanya menggunakan data sesi terbaru (T-1) untuk memproyeksikan kemungkinan, membuatnya sangat adaptif terhadap kondisi pasar terkini, tidak seperti indikator lagging yang bergantung pada data historis yang ekstensif.</p>
                </div>`,
                theoryTitle: "Teori",
                theoryIntro: "Bagian ini merinci komponen inti dari kerangka kerja RSA. Jelajahi setiap konsep untuk memahami mekanik di balik model ini.",
                modelTitle: "Model RRA",
                modelSubtitle: "Berinteraksi dengan model spasial inti. Masukkan data pasar untuk menghitung dan memvisualisasikan level RRA secara dinamis.",
                modelInputTitle: "Variabel Input",
                inputPrevHigh: "Tertinggi Sebelumnya (Hp)",
                inputPrevLow: "Terendah Sebelumnya (Lp)",
                inputCurrHigh: "Tertinggi Saat Ini (Hc)",
                inputCurrLow: "Terendah Saat Ini (Lc)",
                modelCalcTitle: "Perhitungan Inti",
                calcVu: "Unit Volatilitas (Vu):",
                calcQv: "Kuantum 25% (qv):",
                vizTitle: "Visualisasi RRA",
                levelsTitle: "Level-Level Perhitungan",
                synthesisTitle: "Sintesis: Integrasi Ruang dan Waktu Harga",
                synthesisSubtitle: "Pahami bagaimana dimensi spasial (RRA) dan temporal (Chronos Cycles) berpadu untuk membentuk setup dengan probabilitas tinggi.",
                frameworkTitle: "Kerangka Waktu",
                frameworkSubtitle: "Visualisasi struktur bertingkat dari hierarki siklus waktu (Chronos Cycles).",
                macroTitle: "Struktur Makro",
                macroContent: "Tahunan, Semester, Kuartalan, Bulanan",
                mesoTitle: "Struktur Meso",
                mesoContent: "Mingguan, Harian",
                microTitle: "Struktur Mikro",
                microContent: "4-Jam, 1-Jam, 15-Menit, 1-Min",
                macroDesc: "<strong>Tujuan:</strong> Untuk menetapkan tren pasar jangka panjang yang dominan dan rezim secara keseluruhan. Level RRA pada kerangka waktu ini bertindak sebagai medan gravitasi yang kuat yang mempengaruhi semua pergerakan harga yang lebih kecil. Analisis di sini mencegah perlawanan terhadap arus pasar utama.",
                mesoDesc: "<strong>Tujuan:</strong> Untuk menentukan rencana taktis selama seminggu atau sehari. Rentang mingguan menetapkan medan pertempuran, sementara grafik harian mengungkapkan perebutan spesifik untuk level RRA utama dalam konteks mingguan tersebut. Ini adalah kerangka waktu operasional utama.",
                microDesc: "<strong>Tujuan:</strong> Untuk eksekusi dan manajemen perdagangan yang presisi. Ini adalah 'level dasar' di mana empat fase Siklus Chronos menjadi paling jelas. Entri dan keluar diatur waktunya dengan mengamati interaksi harga dengan level RRA harian dalam siklus intraday ini.",
                frameworkDescDefault: "Klik level struktur di atas untuk melihat tujuan dan konteks rincinya.",
                toolsTitle: "Perangkat & Sumber Daya",
                toolsSubtitle: "Perangkat praktis dan bacaan lebih lanjut untuk menerapkan kerangka kerja RSA.",
                tool1Title: "Analisis Multi-Kerangka Waktu",
                tool1Desc: "Sebuah artikel yang menjelaskan konsep inti penggunaan pendekatan top-down untuk menetapkan bias arah, sebuah praktik dasar untuk RSA.",
                tool1Url: "https://medium.com/@coto.adiyat/multi-timeframe-analysis-on-stocks-and-currencies-market-532d99e3eac5",
                tool2Title: "Kalkulator Auto Residual Range",
                tool2Desc: "Indikator resmi untuk TradingView yang secara otomatis menghitung dan menampilkan level RRA pada grafik Anda.",
                tool2Url: "https://medium.com/@coto.adiyat/auto-residual-range-calculator-for-tradingview-ce8bfdbd5ad2",
                tool3Title: "Penganalisis Bias Multi-Kerangka Waktu",
                tool3Desc: "Alat pendamping di TradingView untuk mengkonsolidasikan dan memvisualisasikan bias arah di berbagai kerangka waktu.",
                tool3Url: "https://medium.com/@coto.adiyat/the-multi-timeframe-bias-analyzer-8d5916d940a3",
                readMore: "Baca Selengkapnya",
                downloadTitle: "Unduh Dokumen Utama",
                downloadDesc: "Akses dokumentasi lengkap kerangka kerja RSA dengan penjelasan rinci, formulasi matematis, dan aplikasi praktis.",
                downloadBtn: "Unduh PDF",
                backBtn: "Kembali ke Portfolio",
                footerText: "Interpretasi interaktif dari dokumen utama \"Arsitektur Simetris Refleksif\".",
                accordionData: [
                    { title: "Terminologi Inti", content: `<ul><li class="mb-2"><strong>RSA (Arsitektur Simetris Refleksif):</strong> Adalah kerangka kerja utuh yang menyatukan analisis harga (ruang) dan waktu. RSA beroperasi pada prinsip bahwa pasar bersifat refleksif (perilaku partisipan mempengaruhi hasil) dan simetris (pergerakan harga seimbang di sekitar titik pusat).</li><li class="mb-2"><strong>RRA (Arsitektur Rentang Refleksif):</strong> Merupakan komponen <strong>spasial (harga)</strong> dari RSA. Fungsinya adalah memetakan *seberapa jauh* harga berpotensi bergerak dengan memproyeksikan level-level simetris berdasarkan volatilitas sebelumnya.</li><li><strong>Siklus Chronos:</strong> Merupakan komponen <strong>temporal (waktu)</strong> dari RSA. Fungsinya adalah memetakan *alur cerita* sebuah sesi dengan membaginya menjadi empat fase yang dapat diprediksi, menunjukkan *kapan* jenis pergerakan harga tertentu kemungkinan akan terjadi.</li></ul>` },
                    { title: "Aksioma Pembagian Biner", content: "Integritas struktural RSA bersandar pada satu kebenaran fundamental: Aksioma Pembagian Biner. Prinsip ini menyatakan bahwa setiap unit utuh dalam konteks pasar—baik itu potensi harga maupun durasi waktu—akan mengalami pembagian dua secara alami dan berulang. Hal ini mencerminkan dualitas pasar: beli vs. jual, ekspansi vs. kontraksi. Semua perilaku pasar yang kompleks pada dasarnya adalah hasil dari fondasi biner ini." },
                    { title: 'Dasar Konseptual RRA', content: `<ul class="list-disc list-inside space-y-2"><li><strong>Keseimbangan Dinamis (EQ):</strong> Titik pusat absolut dari area harga sesi, dihitung secara berkelanjutan sebagai rata-rata aritmetika dari harga tertinggi dan terendah sesi yang sedang berkembang. Ini adalah titik 'nilai wajar' di mana harga terus-menerus tertarik.</li><li><strong>Selubung Simetris:</strong> Lapisan energi potensial yang bercermin (level R untuk resistensi, level S untuk dukungan) yang meluas dari EQ. Ini bukan target, melainkan batas energi yang menentukan batas kemungkinan ekspansi dan kontraksi.</li><li><strong>Memori Spasial:</strong> RRA berpendapat bahwa ruang-harga memiliki memori. Saat harga berinteraksi dengan suatu level, ia memberi energi pada zona tersebut. Setelah pengujian ulang, zona tersebut akan bertindak sebagai titik reaksi probabilitas tinggi, menunjukkan polaritas struktural.</li></ul>` },
                    { title: 'Dasar Teori yang Lebih Dalam', content: `<div class="space-y-4"><div><h4 class="font-semibold text-[var(--text-primary)]">Paralel dengan Mekanika Kuantum</h4><p>Konsep kuantum volatilitas 25% memiliki paralel dengan kuantisasi energi dalam fisika. Sama seperti energi dalam atom yang ada pada level diskrit, RSA menyatakan bahwa volatilitas pasar diekspresikan dalam paket-paket probabilistik yang diskrit. Harga tidak bergerak mulus; ia "melompat" di antara keadaan volatilitas yang terkuantisasi ini.</p></div><div><h4 class="font-semibold text-[var(--text-primary)]">Dasar Teori Informasi</h4><p>Ketergantungan kerangka kerja pada data T-1 (rentang sesi sebelumnya) mengasumsikan bahwa data terbaru mengandung informasi yang paling dapat ditindaklanjuti dan paling sedikit derau. Dengan sengaja membatasi "memorinya", RSA memprioritaskan sinyal di atas derau, menciptakan sistem yang sangat adaptif.</p></div><div><h4 class="font-semibold text-[var(--text-primary)]">Ilmu Kompleksitas & Kemunculan</h4><p>RSA adalah contoh dari kemunculan (emergence), di mana aturan-aturan sederhana dan deterministik memunculkan perilaku yang kompleks dan tidak dapat diprediksi. Kerangka kerja ini memodelkan batasan geometris dan temporal yang mendasari di mana perilaku kompleks ini berlangsung. Pola-pola rumit pada grafik adalah properti yang muncul dari aturan-aturan dasar ini.</p></div><div><h4 class="font-semibold text-[var(--text-primary)]">Perspektif Ekologi Pasar</h4><p>RSA memperlakukan pasar sebagai sistem ekologi alami. Aturan-aturannya diturunkan dari pengamatan sifat-sifat inheren pasar—simetri, sifat fraktal, dan umpan balik refleksif. RRA dan Siklus Chronos adalah peta hukum alam yang mengatur aliran energi dalam ekosistem finansial ini.</p></div></div>` }
                ],
                synthesisData: [
                    { title: "Koil Pegas", icon: '⧓', description: "Harga bergerak dalam rentang sempit antara level R1 dan S1 selama Fase Awal dan Pengembangan. Kegagalan harga untuk berekspansi menandakan adanya penumpukan energi, yang berpotensi memicu breakout yang kuat pada Fase Akselerasi." },
                    { title: "Dorongan Momentum", icon: '⭢', description: "Setelah jangkar terbentuk, harga menembus level R3/S3 secara meyakinkan pada awal Fase Akselerasi. Aksi ini mengkonfirmasi kelanjutan tren yang kuat dan mengindikasikan bahwa pelaku pasar menargetkan level ekspansi yang lebih tinggi." },
                    { title: "Pembalikan Klimaks", icon: '⥀', description: "Harga menyentuh level ekspansi mayor (misalnya R6) selama Fase Resolusi. Ini menandakan sebuah pergerakan klimaks yang seringkali bersifat jenuh. Ini adalah sinyal klasik dengan probabilitas tinggi untuk terjadinya pembalikan arah kembali menuju EQ." }
                ],
                levelZoneExpansion: "Zona Ekspansi",
                levelZoneNeutral: "Zona Netral",
                levelZoneContraction: "Zona Kontraksi",
                levelDescExpansion: "Menandakan antusiasme tren dan potensi kejenuhan.",
                levelDescNeutral: "Mencerminkan perpanjangan energi 1:1 dari sesi sebelumnya.",
                levelDescContraction: "Menandakan keraguan pasar dan konsolidasi energi."
            }
        };

        let rraChart;
        let currentLang = 'en';

        function calculateRRA() {
            const prevHigh = parseFloat(document.getElementById('prev_high').value);
            const prevLow = parseFloat(document.getElementById('prev_low').value);
            const currHigh = parseFloat(document.getElementById('curr_high').value);
            const currLow = parseFloat(document.getElementById('curr_low').value);

            if ([prevHigh, prevLow, currHigh, currLow].some(isNaN)) return;

            const vu = prevHigh - prevLow;
            const qv = 0.25 * vu;
            const eq = (currHigh + currLow) / 2;

            document.getElementById('vu_output').textContent = vu.toFixed(4);
            document.getElementById('qv_output').textContent = qv.toFixed(4);

            const levels = { EQ: eq };
            const multipliers = { R1: 0.50, S1: 0.50, R2: 0.75, S2: 0.75, R3: 1.00, S3: 1.00, R4: 1.25, S4: 1.25, R5: 1.50, S5: 1.50, R6: 2.00, S6: 2.00, R7: 3.00, S7: 3.00, R8: 4.00, S8: 4.00 };

            for (const [key, mult] of Object.entries(multipliers)) {
                levels[key] = key.startsWith('R') ? currLow + mult * vu : currHigh - mult * vu;
            }

            updateLevelDisplay(levels);
            updateChart({ levels, hc: currHigh, lc: currLow });
        }

        function updateLevelDisplay(levels) {
            const levelsOutput = document.getElementById('levels-output');
            const translations = langData[currentLang];

            const renderLevel = (key, value, type) => {
                const colors = { R: 'text-red-400', S: 'text-green-400', EQ: 'text-[var(--accent-color)] font-bold' };
                return `<div class="flex justify-between items-center font-mono ${colors[type]}"><span>${key}</span><span>${value.toFixed(4)}</span></div>`;
            };

            const expansionR = ['R8','R7','R6','R5','R4'];
            const expansionS = ['S4','S5','S6','S7','S8'];
            const neutralR = ['R3'];
            const neutralS = ['S3'];
            const contractionR = ['R2','R1'];
            const contractionS = ['S1','S2'];

            levelsOutput.innerHTML = `
                <div class="mb-4">
                    <h5 class="font-bold text-[var(--text-primary)]">${translations.levelZoneExpansion}</h5>
                    <p class="text-xs text-[var(--text-secondary)] pb-1">${translations.levelDescExpansion}</p>
                    ${expansionR.map(k => renderLevel(k, levels[k], 'R')).join('')}
                </div>
                <div class="mb-4">
                    <h5 class="font-bold text-[var(--text-primary)]">${translations.levelZoneNeutral}</h5>
                    <p class="text-xs text-[var(--text-secondary)] pb-1">${translations.levelDescNeutral}</p>
                     ${neutralR.map(k => renderLevel(k, levels[k], 'R')).join('')}
                     ${renderLevel('EQ', levels.EQ, 'EQ')}
                     ${neutralS.map(k => renderLevel(k, levels[k], 'S')).join('')}
                </div>
                <div class="mb-4">
                    <h5 class="font-bold text-[var(--text-primary)]">${translations.levelZoneContraction}</h5>
                    <p class="text-xs text-[var(--text-secondary)] pb-1">${translations.levelDescContraction}</p>
                    ${contractionR.map(k => renderLevel(k, levels[k], 'R')).join('')}
                    ${contractionS.map(k => renderLevel(k, levels[k], 'S')).join('')}
                </div>
                 <div class="mb-4">
                    <h5 class="font-bold text-[var(--text-primary)]">${translations.levelZoneExpansion}</h5>
                    <p class="text-xs text-[var(--text-secondary)] pb-1">${translations.levelDescExpansion}</p>
                    ${expansionS.map(k => renderLevel(k, levels[k], 'S')).join('')}
                </div>
            `;
        }

        function updateChart(data) {
            if (!rraChart || !data) return;
            const { levels, hc, lc } = data;

            const annotations = {};
            const percentages = { R1: '50%', S1: '50%', R2: '75%', S2: '75%', R3: '100%', S3: '100%', R4: '125%', S4: '125%', R5: '150%', S5: '150%', R6: '200%', S6: '200%', R7: '300%', S7: '300%', R8: '400%', S8: '400%'};
            const levelColors = { R: 'rgba(239, 68, 68, 0.5)', S: 'rgba(34, 197, 94, 0.5)', EQ: 'rgba(34, 211, 238, 1)' };

            Object.entries(levels).forEach(([key, value]) => {
                const type = key.startsWith('R') ? 'R' : (key.startsWith('S') ? 'S' : 'EQ');
                let borderDash;
                if (key === 'EQ') borderDash = [6, 6];
                else if (key.includes('1') || key.includes('2')) borderDash = [2, 2];
                else if (key.includes('3')) borderDash = [10, 5];
                else borderDash = [];

                annotations[key] = {
                    type: 'line', yMin: value, yMax: value, borderColor: levelColors[type],
                    borderWidth: key === 'EQ' ? 2 : 1.5,
                    borderDash: borderDash,
                    label: {
                        enabled: true, content: `${key} ${percentages[key] || ''}`, position: 'end',
                        textAlign: 'right', backgroundColor: 'rgba(0,0,0,0.7)', color: '#ffffff',
                        fontSize: 9, padding: 2, yAdjust: -5,
                    }
                };
            });

            rraChart.data.datasets[0].data[0].y = hc;
            rraChart.data.datasets[1].data[0].y = lc;
            rraChart.options.plugins.annotation.annotations = annotations;
            
            rraChart.update();
        }

        function initChart() {
            if (typeof Chart === 'undefined') return;
            const ctx = document.getElementById('rraChart').getContext('2d');
            
            rraChart = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [
                        { label: 'Current High', data: [{ x: 0, y: 0 }], backgroundColor: 'rgba(239, 68, 68, 0.8)', borderColor: 'rgba(239, 68, 68, 1)', pointRadius: 8 },
                        { label: 'Current Low', data: [{ x: 0, y: 0 }], backgroundColor: 'rgba(34, 197, 94, 0.8)', borderColor: 'rgba(34, 197, 94, 1)', pointRadius: 8 }
                    ]
                },
                options: {
                    responsive: true, 
                    maintainAspectRatio: false,
                    animation: false, // Disable all animations
                    scales: {
                        x: { display: false },
                        y: { type: 'linear', ticks: { callback: (value) => value.toFixed(4) } }
                    },
                    plugins: { 
                        legend: { position: 'top' }, 
                        annotation: { annotations: {} } 
                    }
                }
            });
        }


        function populateContent() {
            const translations = langData[currentLang];
            document.getElementById('intro-content-container').innerHTML = translations.introContent;
            const accordionContainer = document.getElementById('accordion-container');
            accordionContainer.innerHTML = translations.accordionData.map((item, index) => `
                <div class="border border-[var(--border-color)] rounded-lg overflow-hidden">
                    <button class="w-full px-6 py-4 text-left font-semibold bg-[var(--card-bg)] hover:bg-[var(--bg-secondary)] transition-colors accordion-btn flex justify-between items-center" data-target="accordion-${index}">
                        <span>${item.title}</span><span class="accordion-icon text-xl">+</span>
                    </button>
                    <div id="accordion-${index}" class="accordion-content hidden px-6 py-4 text-[var(--text-secondary)] leading-relaxed bg-[var(--bg-primary)] border-t border-[var(--border-color)]">${item.content}</div>
                </div>`).join('');
            const synthesisContainer = document.getElementById('synthesis-container');
            synthesisContainer.innerHTML = translations.synthesisData.map(setup => `
                <div class="bg-[var(--bg-primary)] p-6 rounded-lg border border-[var(--border-color)] hover:shadow-lg transition-shadow">
                    <div class="text-4xl text-[var(--accent-color)] mb-4 text-center">${setup.icon}</div>
                    <h4 class="text-xl font-semibold mb-3 text-center">${setup.title}</h4>
                    <p class="text-[var(--text-secondary)] leading-relaxed">${setup.description}</p>
                </div>`).join('');
            const frameworkPyramid = document.getElementById('framework-pyramid');
            frameworkPyramid.innerHTML = `
                <div class="framework-level w-full max-w-lg" data-level="macro"><div class="bg-gradient-to-r from-red-500 to-red-600 text-white p-4 rounded-lg text-center cursor-pointer hover:scale-105 transition-transform"><h4 class="font-bold" data-lang-key="macroTitle">${translations.macroTitle}</h4><p class="text-sm mt-1" data-lang-key="macroContent">${translations.macroContent}</p></div></div>
                <div class="framework-level w-full max-w-sm" data-level="meso"><div class="bg-gradient-to-r from-yellow-500 to-yellow-600 text-white p-4 rounded-lg text-center cursor-pointer hover:scale-105 transition-transform"><h4 class="font-bold" data-lang-key="mesoTitle">${translations.mesoTitle}</h4><p class="text-sm mt-1" data-lang-key="mesoContent">${translations.mesoContent}</p></div></div>
                <div class="framework-level w-full max-w-xs" data-level="micro"><div class="bg-gradient-to-r from-green-500 to-green-600 text-white p-4 rounded-lg text-center cursor-pointer hover:scale-105 transition-transform"><h4 class="font-bold" data-lang-key="microTitle">${translations.microTitle}</h4><p class="text-sm mt-1" data-lang-key="microContent">${translations.microContent}</p></div></div>`;
            const frameworkDesc = document.getElementById('framework-description');
            frameworkDesc.innerHTML = `<p class="text-[var(--text-secondary)]" data-lang-key="frameworkDescDefault">${translations.frameworkDescDefault}</p>`;
            const resourcesContainer = document.getElementById('resources-container');
            const toolsData = [
                { title: translations.tool1Title, desc: translations.tool1Desc, url: translations.tool1Url },
                { title: translations.tool2Title, desc: translations.tool2Desc, url: translations.tool2Url },
                { title: translations.tool3Title, desc: translations.tool3Desc, url: translations.tool3Url }];
            resourcesContainer.innerHTML = toolsData.map(tool => `
                <div class="bg-[var(--bg-primary)] p-6 rounded-lg border border-[var(--border-color)] hover:shadow-lg transition-shadow">
                    <h4 class="text-xl font-semibold mb-3">${tool.title}</h4><p class="text-[var(--text-secondary)] mb-4">${tool.desc}</p>
                    <a href="${tool.url}" target="_blank" class="text-[var(--accent-color)] hover:text-[var(--accent-hover)] font-medium inline-flex items-center">${translations.readMore}</a>
                </div>`).join('');
            Object.keys(translations).forEach(key => {
                document.querySelectorAll(`[data-lang-key="${key}"]`).forEach(el => {
                    if (key !== 'introContent' && key !== 'theoryIntro') el.textContent = translations[key];
                });
            });
            setupAccordionListeners();
            setupFrameworkListeners();
        }

        function setupAccordionListeners() {
            document.querySelectorAll('.accordion-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault(); e.stopPropagation();
                    const targetId = this.dataset.target;
                    const target = document.getElementById(targetId);
                    const icon = this.querySelector('.accordion-icon');
                    if (!target || !icon) return;
                    const isHidden = target.classList.contains('hidden');
                    document.querySelectorAll('.accordion-content').forEach(content => {
                        if (content.id !== targetId) {
                            content.classList.add('hidden');
                            const otherIcon = document.querySelector(`[data-target="${content.id}"] .accordion-icon`);
                            if (otherIcon) otherIcon.textContent = '+';
                        }
                    });
                    target.classList.toggle('hidden');
                    icon.textContent = isHidden ? '−' : '+';
                });
            });
        }

        function setupFrameworkListeners() {
            const translations = langData[currentLang];
            const frameworkDesc = document.getElementById('framework-description');
            document.querySelectorAll('.framework-level').forEach(level => {
                level.addEventListener('click', () => {
                    const levelType = level.dataset.level;
                    let content = '';
                    if (levelType === 'macro') content = translations.macroDesc;
                    else if (levelType === 'meso') content = translations.mesoDesc;
                    else if (levelType === 'micro') content = translations.microDesc;
                    else content = translations.frameworkDescDefault;
                    frameworkDesc.innerHTML = `<p class="text-[var(--text-secondary)]">${content}</p>`;
                });
            });
        }

        function setupLanguageSwitching() {
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    currentLang = btn.dataset.lang;
                    document.querySelectorAll('.lang-btn').forEach(b => {
                        b.classList.toggle('bg-[var(--accent-color)]', b.dataset.lang === currentLang);
                        b.classList.toggle('text-white', b.dataset.lang === currentLang);
                        b.classList.toggle('text-[var(--text-secondary)]', b.dataset.lang !== currentLang);
                    });
                    populateContent();
                    calculateRRA();
                });
            });
        }
        
        function setupSlider(sliderId, numberId) {
            const slider = document.getElementById(sliderId);
            const numberInput = document.getElementById(numberId);

            const updateSliderRange = (value) => {
                if (isNaN(value) || value <= 0) return;

                const rangeFactor = 0.05; 
                const min = value * (1 - rangeFactor);
                const max = value * (1 + rangeFactor);
                
                const step = (max - min) / 200;

                slider.min = min;
                slider.max = max;
                slider.step = step;
                slider.value = value;
            };

            slider.addEventListener('input', () => {
                const stepString = slider.step.toString();
                const precision = stepString.includes('.') ? stepString.split('.')[1].length : 0;
                numberInput.value = parseFloat(slider.value).toFixed(Math.min(precision, 5));
                calculateRRA();
            });

            numberInput.addEventListener('input', () => {
                const value = parseFloat(numberInput.value);
                updateSliderRange(value);
                calculateRRA();
            });

            updateSliderRange(parseFloat(numberInput.value));
        }

        // [CHANGE] Updated theme functions to explicitly manage icons
        function updateThemeIcons(isDark) {
            const sunIcons = document.querySelectorAll('.sun-icon');
            const moonIcons = document.querySelectorAll('.moon-icon');
            
            sunIcons.forEach(icon => icon.classList.toggle('hidden', !isDark));
            moonIcons.forEach(icon => icon.classList.toggle('hidden', isDark));
        }

        function initTheme() {
            const savedTheme = localStorage.getItem('rsa-theme') || 'dark';
            const isDark = savedTheme === 'dark';
            document.documentElement.classList.toggle('dark', isDark);
            updateThemeIcons(isDark);
        }

        function toggleTheme() {
            const isDark = document.documentElement.classList.toggle('dark');
            localStorage.setItem('rsa-theme', isDark ? 'dark' : 'light');
            updateThemeIcons(isDark);
        }

        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu-overlay');
            const isOpen = mobileMenu.classList.toggle('open');
            document.body.style.overflow = isOpen ? 'hidden' : '';
        }

        function setupSmoothScrolling() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);

                    if (targetElement) {
                        const mobileMenu = document.getElementById('mobile-menu-overlay');
                        if (mobileMenu.classList.contains('open')) {
                            toggleMobileMenu();
                        }
                        targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });
        }

        document.addEventListener('DOMContentLoaded', function() {
            initTheme();
            
            initChart(); 
            populateContent();
            calculateRRA(); 
            
            setupLanguageSwitching();

            setupSlider('prev_high_slider', 'prev_high');
            setupSlider('prev_low_slider', 'prev_low');
            setupSlider('curr_high_slider', 'curr_high');
            setupSlider('curr_low_slider', 'curr_low');

            document.querySelectorAll('.lang-btn').forEach(btn => {
                const isCurrent = btn.dataset.lang === currentLang;
                btn.classList.toggle('bg-[var(--accent-color)]', isCurrent);
                btn.classList.toggle('text-white', isCurrent);
                btn.classList.toggle('text-[var(--text-secondary)]', !isCurrent);
            });

            document.getElementById('mobile-menu-toggle').addEventListener('click', toggleMobileMenu);
            document.getElementById('close-mobile-menu').addEventListener('click', toggleMobileMenu);
            
            setupSmoothScrolling();
        });
    </script>

</body>
</html>

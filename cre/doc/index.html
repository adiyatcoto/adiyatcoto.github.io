<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSA Engine: Technical Specifications</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- MathJax for rendering Math formulas -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <!-- Fonts: Merriweather (Serif for reading) & Inter (UI) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --c-primary: #0f172a; /* Slate 900 */
            --c-accent: #2563eb; /* Blue 600 */
            --c-text: #334155; /* Slate 700 */
            --c-bg: #ffffff;
            --c-paper: #f8fafc;
        }
        
        body {
            font-family: 'Merriweather', serif;
            color: var(--c-primary);
            background-color: #e2e8f0;
            line-height: 1.9;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Inter', sans-serif;
            font-weight: 700;
            letter-spacing: -0.03em;
            color: #1e293b;
            margin-top: 2rem;
        }
        
        h2 { border-bottom: 2px solid #e2e8f0; padding-bottom: 0.5rem; margin-bottom: 1.5rem; }

        .sans-ui { font-family: 'Inter', sans-serif; }
        .mono { font-family: 'JetBrains Mono', monospace; }

        /* Paper Sheet Effect - Responsive Padding */
        .sheet {
            background: white;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            margin: 0 auto;
            max-width: 210mm; /* A4 width standard */
            width: 100%;
            padding: 2rem 1.5rem; /* Mobile Padding */
            margin-bottom: 2rem;
            position: relative;
            border-top: 4px solid var(--c-primary);
        }

        @media (min-width: 768px) {
            .sheet {
                padding: 4rem 4rem; /* Desktop Padding */
                margin-bottom: 3rem;
            }
        }

        /* Technical Diagram Styling */
        .diagram-box {
            border: 1px solid #cbd5e1;
            background: #f8fafc;
            border-radius: 8px;
            margin: 2rem 0;
            padding: 2rem 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: hidden;
            width: 100%;
        }
        
        .diagram-svg {
            width: 100%;
            height: auto;
            max-height: 800px;
            display: block;
        }
        
        .diagram-label {
            position: absolute;
            top: 0; left: 0;
            background: #e2e8f0;
            color: #475569;
            font-family: 'Inter', sans-serif;
            font-size: 0.65rem;
            font-weight: bold;
            padding: 0.25rem 0.5rem;
            border-bottom-right-radius: 4px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            z-index: 10;
        }
        
        .diagram-caption {
            font-family: 'Inter', sans-serif;
            font-size: 0.85rem;
            color: #64748b;
            margin-top: 1rem;
            text-align: center;
            font-style: italic;
            border-top: 1px solid #e2e8f0;
            padding-top: 0.75rem;
            width: 90%;
        }

        .flow-line { stroke: #94a3b8; stroke-width: 1.5; fill: none; }
        .node-rect { fill: white; stroke: #94a3b8; stroke-width: 1; }
        .node-fill-blue { fill: #eff6ff; stroke: #2563eb; }
        .node-fill-dark { fill: #1e293b; stroke: #0f172a; }
        .text-node { font-family: 'JetBrains Mono', monospace; font-size: 10px; text-anchor: middle; }
        .text-node-bold { font-family: 'Inter', sans-serif; font-size: 11px; font-weight: 700; text-anchor: middle; }

        /* Table Styles - Responsive Wrapper handled in HTML */
        .tech-table {
            width: 100%;
            border-collapse: collapse;
            font-family: 'Inter', sans-serif;
            font-size: 0.85rem;
            margin: 0; /* Margin handled by wrapper */
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            min-width: 600px; /* Forces scroll on small screens */
        }
        .tech-table th {
            text-align: left;
            padding: 1rem;
            background: #f1f5f9;
            border-bottom: 2px solid #cbd5e1;
            font-weight: 700;
            color: #334155;
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
        }
        .tech-table td {
            padding: 1rem;
            border-bottom: 1px solid #e2e8f0;
            color: #475569;
            vertical-align: top;
        }
        .tech-table tr:last-child td { border-bottom: none; }

        /* Printing adjustments */
        @media print {
            body { background: white; }
            .sheet { box-shadow: none; padding: 0; margin: 0; width: 100%; max-width: 100%; border: none; }
            .no-print { display: none; }
            a { text-decoration: none; color: black; }
            .diagram-box { border: 1px solid #ccc; background: white; break-inside: avoid; }
            h1, h2, h3 { page-break-after: avoid; }
        }
        
        /* Sidebar Navigation */
        .nav-item {
            display: block;
            padding: 0.6rem 1.5rem;
            font-family: 'Inter', sans-serif;
            font-size: 0.8rem;
            color: #64748b;
            border-left: 3px solid transparent;
            transition: all 0.2s;
            font-weight: 500;
        }
        .nav-item:hover, .nav-item.active {
            color: var(--c-primary);
            border-left-color: var(--c-accent);
            background: #f8fafc;
        }
        .nav-sub { padding-left: 2.5rem; font-size: 0.75rem; border-left-color: #f1f5f9; }
        
        .chapter-break { page-break-before: always; }
    </style>
</head>
<body class="flex flex-col lg:flex-row min-h-screen">

    <!-- Sidebar Navigation -->
    <!-- Responsive: Sticky on desktop, static/collapsed on mobile -->
    <nav class="w-full lg:w-72 bg-white border-b lg:border-b-0 lg:border-r border-slate-200 h-auto lg:h-screen lg:sticky lg:top-0 overflow-y-auto no-print z-50 shadow-md lg:shadow-none flex-shrink-0">
        <!-- Header with Toggle Button -->
        <div class="p-6 lg:p-8 border-b border-slate-100 flex flex-row justify-between items-center lg:block">
            <div>
                <div class="text-[10px] font-bold text-slate-400 uppercase tracking-[0.2em] mb-2">Technical Specifications</div>
                <div class="font-sans font-extrabold text-2xl text-slate-900 leading-none tracking-tight">RSA Engine <span class="text-blue-600 text-sm align-top font-medium">PRO</span></div>
                <div class="text-[10px] text-slate-500 mt-2 mono bg-slate-100 inline-block px-2 py-1 rounded">Build: v2.9.31-stable</div>
            </div>
            <!-- Mobile Toggle Button -->
            <button id="menu-toggle" class="lg:hidden p-2 text-slate-600 rounded hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-slate-200 transition">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                </svg>
            </button>
        </div>
        
        <!-- Navigation Links Container -->
        <!-- Hidden by default on mobile, Block on Desktop -->
        <div id="nav-menu" class="hidden lg:block py-4 lg:py-6 grid grid-cols-1 gap-1 lg:gap-0 transition-all duration-300 ease-in-out">
            <a href="#abstract" class="nav-item">1.0 Abstract</a>
            <a href="#philosophy" class="nav-item">2.0 Philosophy</a>
            <a href="#core-logic" class="nav-item">3.0 Core Logic</a>
            <a href="#atomic-mode" class="nav-item nav-sub">3.2a Atomic Tree</a>
            <a href="#calendar-mode" class="nav-item nav-sub">3.2b Calendar Tree</a>
            <a href="#math-model" class="nav-item">4.0 Math Framework</a>
            <a href="#temporal-gravity" class="nav-item">5.0 Temporal Gravity</a>
            <a href="#confluence" class="nav-item">6.0 Structural Confluence</a>
            <a href="#execution" class="nav-item">7.0 Execution Modules</a>
            <a href="#risk-protocol" class="nav-item">8.0 Risk Protocol</a>
            <a href="#architecture" class="nav-item">9.0 System Architecture</a>
            <a href="#ui-specs" class="nav-item">10.0 Visual Specs</a>
            <a href="#limitations" class="nav-item">11.0 Limitations</a>
            <a href="#disclaimer" class="nav-item">12.0 Disclaimer</a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-1 overflow-y-auto w-full">
        
        <!-- HEADER -->
        <div class="sheet mt-4 lg:mt-12">
            <div class="border-b-4 border-slate-900 pb-8 mb-10">
                <div class="flex flex-col sm:flex-row justify-between items-start mb-6 gap-2">
                    <div class="mono text-xs text-slate-400">CLASSIFICATION: PUBLIC / ACADEMIC</div>
                </div>
                <h1 class="text-3xl md:text-4xl lg:text-6xl mb-6 text-slate-900 leading-tight tracking-tight mt-0">Recursive Structure Analysis (RSA) Engine</h1>
                <div class="flex flex-col lg:flex-row justify-between items-start lg:items-end gap-6">
                    <div class="max-w-xl">
                        <p class="font-sans text-slate-600 font-medium text-lg mb-1">A Deterministic Framework for Financial Time-Series Decomposition</p>
                        <p class="font-sans text-slate-400 text-sm">Authored by Adiyat Coto &middot;</p>
                    </div>
                    <div class="text-left lg:text-right">
                        <div class="text-3xl font-bold text-slate-900 font-sans">2026</div>
                        <div class="text-sm font-sans text-slate-500 uppercase tracking-widest">January Release</div>
                    </div>
                </div>
            </div>

            <section id="abstract">
                <h3 class="font-sans text-xs font-bold text-blue-600 uppercase tracking-[0.2em] mb-4">1.0 Abstract</h3>
                <p class="text-base md:text-lg leading-relaxed text-slate-800 font-serif mb-4">
                    The RSA Engine addresses the fundamental flaw in traditional technical analysis: <strong>Time Distortion</strong>. Conventional indicators (RSI, MACD) analyze price data over arbitrary calendar increments (e.g., Daily, Weekly) that do not account for the intrinsic fractal nature of markets.
                </p>
                <p class="text-base md:text-lg leading-relaxed text-slate-800 font-serif">
                    RSA rejects this linear approach. Instead, it constructs a <strong>Recursive Temporal Mesh</strong> anchored to a fixed Genesis Time Block. This methodology is <strong>Asset Agnostic</strong>—whether applied to Forex, Equities, or Digital Assets, it focuses strictly on Recursive Price & Time Theory to identify structural confluence. By operating in <span class="font-sans font-bold text-slate-900 bg-slate-100 px-1 rounded">Atomic Mode</span> (Pure Math) and <span class="font-sans font-bold text-slate-900 bg-slate-100 px-1 rounded">Calendar Mode</span>, RSA processes parallel logic trees to identify Volatility Equilibriums across twelve fractal levels ($L_0 \rightarrow L_{11}$).
                </p>
            </section>
        </div>

        <!-- PHILOSOPHY -->
        <div class="sheet">
            <section id="philosophy">
                <h2>2.0 Philosophy: The Asset Agnostic Continuum</h2>
                <div class="columns-1 md:columns-2 gap-12 text-sm text-slate-600 mb-8 text-justify">
                    <p class="mb-4 md:mb-0">
                        Financial markets are typically analyzed using the Gregorian Calendar. However, markets function as energy systems that adhere to mathematical decay and resonance. The rotation of the Earth around the Sun (a Year) is often irrelevant to the mathematical resonance of market price action.
                    </p>
                    <p>
                        The RSA Engine posits that "True Time" is a recursive construct. By anchoring to a significant high-timeframe period (L0) and dividing by powers of 2, we uncover <strong>confluence</strong> and context hidden by linear calendars. This reveals the "heartbeat" of the asset, focusing on pure time cycles rather than biological or astronomical constraints.
                    </p>
                </div>
                
                <!-- VISUAL: LINEAR VS RECURSIVE -->
                <div class="diagram-box bg-white">
                    <div class="diagram-label">Figure 2.1: Perception of Time (Deep Dive)</div>
                    <svg class="diagram-svg" viewBox="0 0 600 300">
                        <defs>
                            <pattern id="smallGrid" width="20" height="20" patternUnits="userSpaceOnUse">
                                <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#f1f5f9" stroke-width="1"/>
                            </pattern>
                        </defs>
                        <rect width="600" height="300" fill="url(#smallGrid)" />

                        <!-- Top: Linear Time -->
                        <text x="30" y="30" font-family="Inter" font-size="10" font-weight="bold" fill="#64748b">A. LINEAR TIME (Discrete & Shallow)</text>
                        <line x1="50" y1="60" x2="550" y2="60" stroke="#94a3b8" stroke-width="1"/>
                        <g fill="#cbd5e1">
                            <circle cx="100" cy="60" r="4"/>
                            <circle cx="200" cy="60" r="4"/>
                            <circle cx="300" cy="60" r="4"/>
                            <circle cx="400" cy="60" r="4"/>
                            <circle cx="500" cy="60" r="4"/>
                        </g>
                        <text x="300" y="80" font-family="JetBrains Mono" font-size="9" text-anchor="middle" fill="#94a3b8">t+1 is disconnected from t-1</text>

                        <!-- Bottom: Recursive Fractal -->
                        <text x="30" y="140" font-family="Inter" font-size="10" font-weight="bold" fill="#1e40af">B. RECURSIVE TIME (Continuous & Deep)</text>
                        <g transform="translate(300, 220)">
                            <circle cx="0" cy="0" r="70" fill="none" stroke="#1e293b" stroke-width="1.5" stroke-dasharray="4"/>
                            <text x="0" y="-80" font-family="Inter" font-size="9" text-anchor="middle" fill="#1e293b">L0 Context</text>
                            <circle cx="-35" cy="0" r="35" fill="none" stroke="#2563eb" stroke-width="1.5"/>
                            <circle cx="35" cy="0" r="35" fill="none" stroke="#2563eb" stroke-width="1.5"/>
                            <circle cx="-35" cy="0" r="17.5" fill="rgba(37, 99, 235, 0.1)" stroke="#60a5fa" stroke-width="1"/>
                            <circle cx="35" cy="0" r="17.5" fill="rgba(37, 99, 235, 0.1)" stroke="#60a5fa" stroke-width="1"/>
                            <line x1="70" y1="0" x2="150" y2="0" stroke="#94a3b8" stroke-dasharray="2"/>
                            <text x="160" y="3" font-family="JetBrains Mono" font-size="9" fill="#2563eb">L(n) is contained by L(n-1)</text>
                        </g>
                    </svg>
                    <div class="diagram-caption">
                        In RSA, time is a nesting doll (Matryoshka). The volatility of an intraday candle (L11) is physically constrained by the walls of the Daily cycle (L8).
                    </div>
                </div>

                <div class="diagram-box bg-slate-900 border-slate-800 text-white mt-8">
                    <div class="diagram-label bg-slate-800 text-slate-300">Figure 2.2: The Fractal Container</div>
                    <svg class="diagram-svg" viewBox="0 0 500 200">
                        <!-- L0 Container -->
                        <rect x="10" y="10" width="480" height="180" fill="#0f172a" stroke="#334155" stroke-width="2" rx="4"/>
                        <text x="25" y="35" font-family="Inter" font-size="10" fill="#94a3b8" font-weight="bold">L0: THE CYCLE (Fixed Period)</text>
                        
                        <!-- L1 Split -->
                        <line x1="250" y1="10" x2="250" y2="190" stroke="#334155" stroke-width="2" stroke-dasharray="6"/>
                        <text x="130" y="180" font-family="JetBrains Mono" font-size="9" fill="#475569" text-anchor="middle">L1: Bi-Year</text>
                        <text x="370" y="180" font-family="JetBrains Mono" font-size="9" fill="#475569" text-anchor="middle">L1: Bi-Year</text>

                        <!-- L2 Active Quarter -->
                        <rect x="260" y="50" width="100" height="100" fill="#1e293b" stroke="#3b82f6" stroke-width="2"/>
                        <text x="310" y="70" font-family="Inter" font-size="10" fill="#60a5fa" text-anchor="middle" font-weight="bold">L2: Year</text>
                        
                        <!-- L3 Active Semester inside L2 (Recursive) -->
                        <rect x="270" y="80" width="80" height="60" fill="#172554" stroke="#1d4ed8"/>
                        <text x="310" y="95" font-family="JetBrains Mono" font-size="8" fill="#93c5fd" text-anchor="middle">L3</text>
                        
                        <!-- L4 Active -->
                        <rect x="280" y="105" width="60" height="30" fill="#1e3a8a" stroke="#60a5fa"/>
                        <text x="310" y="125" font-family="JetBrains Mono" font-size="10" fill="white" text-anchor="middle">L4</text>
                    </svg>
                </div>
            </section>
        </div>

        <!-- CORE LOGIC -->
        <div class="sheet">
            <section id="core-logic">
                <h2>3.0 Core Logic: The Recursive Engine</h2>
                <p>
                    The engine uses a recursive function $f(t, L)$ to calculate start and end timestamps. 
                    Let $T_{start}$ be the Cycle Genesis and $D_{cycle}$ be the fixed duration. The fundamental difference lies in how this duration is divided.
                </p>

                <div id="atomic-drift" class="mt-8">
                    <h3 class="text-xl font-sans text-slate-900 mb-6">3.1 Taxonomy of Drift</h3>
                    <div class="diagram-box p-8 bg-white">
                        <div class="diagram-label">Figure 3.1: Atomic vs Calendar Drift</div>
                        <svg class="diagram-svg" viewBox="0 0 600 250">
                            <line x1="50" y1="200" x2="550" y2="200" stroke="#cbd5e1" stroke-width="1"/>
                            <text x="300" y="220" font-family="Inter" font-size="10" text-anchor="middle" fill="#64748b">Timeline (L0 Structure)</text>
                            <line x1="50" y1="150" x2="550" y2="50" stroke="#2563eb" stroke-width="2"/>
                            <text x="500" y="40" font-family="Inter" font-size="9" fill="#2563eb" font-weight="bold">ATOMIC (Math)</text>
                            <polyline points="50,150 100,140 150,135 200,120 250,110 300,100 350,80 400,75 450,60 500,55 550,50" 
                                      fill="none" stroke="#ef4444" stroke-width="2" stroke-dasharray="4"/>
                            <text x="500" y="70" font-family="Inter" font-size="9" fill="#ef4444" font-weight="bold">CALENDAR (Drift)</text>
                            <path d="M 200 120 L 200 110" stroke="#64748b" stroke-width="1" stroke-dasharray="2"/>
                            <text x="210" y="115" font-family="JetBrains Mono" font-size="8" fill="#64748b">Feb (28d) Drift</text>
                            <circle cx="50" cy="150" r="3" fill="#0f172a"/>
                            <text x="50" y="170" font-family="JetBrains Mono" font-size="8" text-anchor="middle">Genesis</text>
                            <circle cx="550" cy="50" r="3" fill="#0f172a"/>
                            <text x="550" y="30" font-family="JetBrains Mono" font-size="8" text-anchor="middle">End Cycle</text>
                        </svg>
                        <div class="diagram-caption">
                            The gap between mathematical perfection (Blue) and institutional irregularity (Red) is the "Drift".
                        </div>
                    </div>

                    <!-- Responsive Table Wrapper -->
                    <div class="overflow-x-auto w-full mb-8">
                        <table class="tech-table">
                            <thead>
                                <tr>
                                    <th width="10%">Level</th>
                                    <th width="20%">Name</th>
                                    <th width="35%">Atomic Mode (Math)</th>
                                    <th width="35%">Calendar Mode (Institutional)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="font-mono font-bold text-blue-600">L0</td>
                                    <td>Cycle</td>
                                    <td class="mono">Fixed Duration ($D$)</td>
                                    <td>4 Years (Leap dependent)</td>
                                </tr>
                                <tr>
                                    <td class="font-mono font-bold text-blue-600">L2</td>
                                    <td>Yearly</td>
                                    <td class="mono">Mathematical Year ($D/4$)</td>
                                    <td>Fiscal Year (Jan-Dec)</td>
                                </tr>
                                <tr>
                                    <td class="font-mono font-bold text-blue-600">L4</td>
                                    <td>Quarterly</td>
                                    <td class="mono">Fractional ($D/16$)</td>
                                    <td>Calendar Quarter (Q1, Q2...)</td>
                                </tr>
                                <tr>
                                    <td class="font-mono font-bold text-blue-600">L8</td>
                                    <td>Day/256th</td>
                                    <td class="mono">24.00 Hours ($D/256$)</td>
                                    <td>Daily Candle (UTC 00:00)</td>
                                </tr>
                                <tr>
                                    <td class="font-mono font-bold text-blue-600">L11</td>
                                    <td>Atom</td>
                                    <td class="mono">3.00 Hours ($D/2048$)</td>
                                    <td>H4 Exchange Alignment</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- NEW: ATOMIC STRUCTURE (COMPLETE TREE) -->
                <div id="atomic-mode" class="mt-12 chapter-break">
                    <h3 class="text-xl font-sans text-slate-900 mb-6">3.2a The Atomic Hierarchy (Complete Genealogy)</h3>
                    <p class="mb-6 text-sm text-slate-600">
                        In Atomic Mode, time is divided strictly by powers of 2. This structure is immutable and perfectly symmetrical. The diagram below illustrates the <strong>complete descending lineage</strong> from the L0 Genesis Cycle down to the L11 Atomic Unit. Every step represents a precise halving of temporal duration.
                    </p>
                    <div class="diagram-box p-8 flex justify-center overflow-x-auto bg-white">
                        <div class="diagram-label">Figure 3.2A: Atomic Genealogy (L0 to L11)</div>
                        <svg class="diagram-svg min-w-[300px]" viewBox="0 0 600 800">
                            <defs>
                                <marker id="arrow-down" markerWidth="8" markerHeight="8" refX="4" refY="8" orient="auto">
                                    <path d="M0,0 L4,8 L8,0 z" fill="#94a3b8" />
                                </marker>
                            </defs>
                            
                            <!-- Central Spine -->
                            <line x1="300" y1="40" x2="300" y2="760" stroke="#e2e8f0" stroke-width="2" stroke-dasharray="4"/>

                            <!-- L0 -->
                            <rect x="200" y="20" width="200" height="40" rx="4" class="node-fill-dark"/>
                            <text x="300" y="45" font-family="JetBrains Mono" font-size="12" font-weight="bold" fill="white" text-anchor="middle">L0: CYCLE (1.0)</text>
                            <line x1="300" y1="60" x2="300" y2="80" stroke="#94a3b8" marker-end="url(#arrow-down)"/>

                            <!-- L1 -->
                            <rect x="220" y="80" width="160" height="30" rx="4" class="node-fill-blue"/>
                            <text x="300" y="100" class="text-node" fill="#1e40af">L1: BI-YEAR (0.5)</text>
                            <line x1="300" y1="110" x2="300" y2="130" stroke="#94a3b8" marker-end="url(#arrow-down)"/>

                            <!-- L2 -->
                            <rect x="230" y="130" width="140" height="30" rx="4" class="node-rect"/>
                            <text x="300" y="150" class="text-node" fill="#64748b">L2: YEAR (0.25)</text>
                            <line x1="300" y1="160" x2="300" y2="180" stroke="#94a3b8" marker-end="url(#arrow-down)"/>

                            <!-- L3 -->
                            <rect x="240" y="180" width="120" height="30" rx="4" class="node-rect"/>
                            <text x="300" y="200" class="text-node" fill="#64748b">L3: SEMESTER (0.125)</text>
                            <line x1="300" y1="210" x2="300" y2="230" stroke="#94a3b8" marker-end="url(#arrow-down)"/>

                            <!-- L4 -->
                            <rect x="250" y="230" width="100" height="30" rx="4" class="node-rect"/>
                            <text x="300" y="250" class="text-node" fill="#64748b">L4: QUARTER (1/16)</text>
                            <line x1="300" y1="260" x2="300" y2="280" stroke="#94a3b8" marker-end="url(#arrow-down)"/>

                            <!-- L5 -->
                            <rect x="260" y="280" width="80" height="25" rx="4" class="node-rect"/>
                            <text x="300" y="297" class="text-node" fill="#64748b">L5 (1/32)</text>
                            <line x1="300" y1="305" x2="300" y2="325" stroke="#94a3b8" marker-end="url(#arrow-down)"/>

                            <!-- L6 -->
                            <rect x="265" y="325" width="70" height="25" rx="4" class="node-rect"/>
                            <text x="300" y="342" class="text-node" fill="#64748b">L6 (1/64)</text>
                            <line x1="300" y1="350" x2="300" y2="370" stroke="#94a3b8" marker-end="url(#arrow-down)"/>

                            <!-- L7 -->
                            <rect x="270" y="370" width="60" height="25" rx="4" class="node-rect"/>
                            <text x="300" y="387" class="text-node" fill="#64748b">L7 (1/128)</text>
                            <line x1="300" y1="395" x2="300" y2="415" stroke="#94a3b8" marker-end="url(#arrow-down)"/>

                            <!-- L8 -->
                            <rect x="250" y="415" width="100" height="30" rx="4" class="node-fill-blue"/>
                            <text x="300" y="434" class="text-node" fill="#1e40af">L8: DAILY (1/256)</text>
                            <line x1="300" y1="445" x2="300" y2="465" stroke="#94a3b8" marker-end="url(#arrow-down)"/>

                            <!-- L9 -->
                            <rect x="270" y="465" width="60" height="25" rx="4" class="node-rect"/>
                            <text x="300" y="482" class="text-node" fill="#64748b">L9 (1/512)</text>
                            <line x1="300" y1="490" x2="300" y2="510" stroke="#94a3b8" marker-end="url(#arrow-down)"/>

                            <!-- L10 -->
                            <rect x="270" y="510" width="60" height="25" rx="4" class="node-rect"/>
                            <text x="300" y="527" class="text-node" fill="#64748b">L10 (1/1024)</text>
                            <line x1="300" y1="535" x2="300" y2="555" stroke="#94a3b8" marker-end="url(#arrow-down)"/>

                            <!-- L11 -->
                            <rect x="240" y="555" width="120" height="40" rx="4" class="node-fill-dark"/>
                            <text x="300" y="580" font-family="JetBrains Mono" font-size="11" font-weight="bold" fill="white" text-anchor="middle">L11: ATOMIC (1/2048)</text>
                            
                            <!-- Annotations on Side -->
                            <text x="400" y="45" font-family="Inter" font-size="9" fill="#94a3b8">~1461 Days</text>
                            <text x="400" y="434" font-family="Inter" font-size="9" fill="#3b82f6">~24 Hours</text>
                            <text x="400" y="580" font-family="Inter" font-size="9" fill="#94a3b8">~3 Hours</text>
                        </svg>
                    </div>
                </div>

                <!-- NEW: CALENDAR STRUCTURE (FULL HIERARCHY) -->
                <div id="calendar-mode" class="mt-8">
                    <h3 class="text-xl font-sans text-slate-900 mb-6">3.2b The Calendar Hierarchy (Institutional Stack)</h3>
                    <p class="mb-6 text-sm text-slate-600">
                        Calendar Mode creates a structural hierarchy based on Institutional Reporting Standards. Global finance operates on quarters, semesters, and fiscal years. This mode acknowledges the 'Human Layer' of the market—when fund managers rebalance, when futures expire, and when banks settle. It follows a rigid, albeit mathematically irregular, lineage: A 4-Year Cycle contains two Bi-Years, which contain individual Years, Semesters, Quarters, Months, Weeks, and finally Daily settlement periods.
                    </p>
                    <div class="diagram-box p-8 flex justify-center overflow-x-auto bg-white">
                        <div class="diagram-label">Figure 3.2B: Institutional Data Stack</div>
                        <svg class="diagram-svg min-w-[300px]" viewBox="0 0 600 650">
                            <!-- Definitions -->
                            <defs>
                                <marker id="arrow-cal" markerWidth="8" markerHeight="8" refX="4" refY="8" orient="auto">
                                    <path d="M0,0 L4,8 L8,0 z" fill="#64748b" />
                                </marker>
                            </defs>

                            <!-- 1. 4-YEAR -->
                            <rect x="150" y="20" width="300" height="40" rx="4" class="node-fill-dark"/>
                            <text x="300" y="45" class="text-node-bold" fill="white">4-YEAR CYCLE</text>
                            <line x1="300" y1="60" x2="300" y2="80" stroke="#64748b" marker-end="url(#arrow-cal)"/>

                            <!-- 2. BI-YEAR -->
                            <rect x="200" y="80" width="200" height="30" rx="4" class="node-rect"/>
                            <text x="300" y="100" class="text-node" fill="#475569">BI-YEAR (2 Years)</text>
                            <line x1="300" y1="110" x2="300" y2="130" stroke="#64748b" marker-end="url(#arrow-cal)"/>

                            <!-- 3. YEAR -->
                            <rect x="200" y="130" width="200" height="30" rx="4" class="node-fill-blue"/>
                            <text x="300" y="150" class="text-node" fill="#1e40af">YEAR (Fiscal)</text>
                            <line x1="300" y1="160" x2="300" y2="180" stroke="#64748b" marker-end="url(#arrow-cal)"/>

                            <!-- 4. SEMESTER -->
                            <g transform="translate(0, 180)">
                                <rect x="200" y="0" width="200" height="30" rx="4" class="node-rect"/>
                                <text x="300" y="20" class="text-node" fill="#475569">SEMESTER (6 Months)</text>
                                <line x1="300" y1="30" x2="300" y2="50" stroke="#64748b" marker-end="url(#arrow-cal)"/>
                            </g>

                            <!-- 5. QUARTER -->
                            <g transform="translate(0, 230)">
                                <rect x="150" y="0" width="300" height="40" rx="4" fill="#f1f5f9" stroke="#cbd5e1" stroke-dasharray="4"/>
                                <text x="300" y="15" class="text-node" fill="#94a3b8">Active Quarter Context</text>
                                
                                <rect x="220" y="20" width="160" height="30" rx="4" class="node-fill-blue"/>
                                <text x="300" y="40" class="text-node" fill="#1e40af">QUARTER (Q1-Q4)</text>
                                <line x1="300" y1="50" x2="300" y2="70" stroke="#64748b" marker-end="url(#arrow-cal)"/>
                            </g>

                            <!-- 6. MONTH -->
                            <g transform="translate(0, 300)">
                                <rect x="220" y="0" width="160" height="30" rx="4" class="node-rect"/>
                                <text x="300" y="20" class="text-node" fill="#475569">MONTH (Jan-Dec)</text>
                                <line x1="300" y1="30" x2="300" y2="50" stroke="#64748b" marker-end="url(#arrow-cal)"/>
                            </g>

                            <!-- 7. WEEK -->
                            <g transform="translate(0, 350)">
                                <rect x="220" y="0" width="160" height="30" rx="4" class="node-rect"/>
                                <text x="300" y="20" class="text-node" fill="#475569">WEEK (Mon-Sun)</text>
                                <line x1="300" y1="30" x2="300" y2="50" stroke="#64748b" marker-end="url(#arrow-cal)"/>
                            </g>

                            <!-- 8. DAILY -->
                            <g transform="translate(0, 400)">
                                <rect x="200" y="0" width="200" height="40" rx="4" class="node-fill-dark"/>
                                <text x="300" y="25" class="text-node-bold" fill="white">DAILY CLOSE (00:00 UTC)</text>
                            </g>
                            
                            <!-- Institutional Notes -->
                            <text x="470" y="150" font-family="Inter" font-size="9" fill="#2563eb">Tax/Audit</text>
                            <text x="470" y="270" font-family="Inter" font-size="9" fill="#2563eb">Earnings</text>
                            <text x="470" y="425" font-family="Inter" font-size="9" fill="#2563eb">Settlement</text>
                        </svg>
                    </div>
                </div>
            </section>
        </div>

        <!-- MATH MODEL -->
        <div class="sheet">
            <section id="math-model">
                <h2>4.0 Mathematical Framework</h2>
                <p>
                    RSA rejects Moving Averages (MA) which lag price. Instead, it uses <strong>Predictive Volatility Vectors</strong> derived from the immediate past structure.
                </p>

                <div id="volatility-math" class="mt-8">
                    <h3 class="text-xl font-sans text-slate-900 mb-4">4.1 Volatility Vectors ($\vec{V}$)</h3>
                    <div class="diagram-box p-8 bg-white">
                        <div class="diagram-label">Figure 4.1: Volatility Vector Concept</div>
                        <svg class="diagram-svg" viewBox="0 0 400 200">
                             <defs>
                                <marker id="arrow-vec" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                                    <path d="M0,0 L0,6 L8,3 z" fill="#334155" />
                                </marker>
                            </defs>
                            <circle cx="50" cy="100" r="6" fill="#000"/>
                            <text x="40" y="125" font-family="JetBrains Mono" font-size="10" font-weight="bold">Open (T0)</text>
                            <line x1="50" y1="100" x2="250" y2="40" stroke="#10b981" stroke-width="2" marker-end="url(#arrow-vec)"/>
                            <text x="150" y="30" font-family="Inter" font-size="10" fill="#047857" font-weight="bold">Vector UP (+V)</text>
                            <text x="150" y="45" font-family="JetBrains Mono" font-size="8" fill="#64748b">Magnitude = ln(High/Open)</text>
                            <line x1="50" y1="100" x2="280" y2="170" stroke="#ef4444" stroke-width="2" marker-end="url(#arrow-vec)"/>
                            <text x="170" y="185" font-family="Inter" font-size="10" fill="#b91c1c" font-weight="bold">Vector DOWN (-V)</text>
                            <text x="170" y="200" font-family="JetBrains Mono" font-size="8" fill="#64748b">Magnitude = ln(Open/Low)</text>
                            <path d="M 250 40 Q 300 100 280 170" fill="none" stroke="#94a3b8" stroke-dasharray="4"/>
                            <text x="310" y="100" font-family="Inter" font-size="9" fill="#94a3b8">Volatility Envelope</text>
                        </svg>
                    </div>
                    <div class="latex-block bg-slate-50 p-6 border-l-4 border-slate-900 my-6 overflow-x-auto">
                        $$ \vec{V}_{up} = \frac{1}{n} \sum_{i=1}^{n} \ln \left( \frac{High_i}{Open_i} \right) \approx \frac{1}{n} \sum \frac{H_i - O_i}{O_i} $$
                        $$ \vec{V}_{down} = \frac{1}{n} \sum_{i=1}^{n} \ln \left( \frac{Open_i}{Low_i} \right) \approx \frac{1}{n} \sum \frac{O_i - L_i}{O_i} $$
                    </div>
                </div>

                <div id="equilibrium" class="mt-12">
                    <h3 class="text-xl font-sans text-slate-900 mb-4">4.2 Equilibrium ($E$) Derivation</h3>
                    <div class="diagram-box p-8 bg-white">
                         <div class="diagram-label">Figure 4.2: Volatility Cap Calculation</div>
                        <svg class="diagram-svg" viewBox="0 0 450 320">
                            <line x1="225" y1="20" x2="225" y2="300" stroke="#e2e8f0" stroke-width="1" stroke-dasharray="4"/>
                            <circle cx="225" cy="160" r="4" fill="#3b82f6"/>
                            <text x="240" y="165" font-family="Inter" font-size="11" fill="#3b82f6" font-weight="bold">P_Open (Anchor)</text>
                            <path d="M225 160 Q 150 110 225 60" fill="none" stroke="#10b981" stroke-dasharray="2"/>
                            <rect x="185" y="50" width="80" height="24" fill="#ecfdf5" stroke="#10b981" rx="4"/>
                            <text x="225" y="66" font-family="Inter" font-size="10" text-anchor="middle" fill="#047857" font-weight="bold">TOP CAP</text>
                            <path d="M225 160 Q 300 210 225 260" fill="none" stroke="#ef4444" stroke-dasharray="2"/>
                            <rect x="185" y="250" width="80" height="24" fill="#fef2f2" stroke="#ef4444" rx="4"/>
                            <text x="225" y="266" font-family="Inter" font-size="10" text-anchor="middle" fill="#b91c1c" font-weight="bold">BOT CAP</text>
                            <line x1="100" y1="160" x2="350" y2="160" stroke="#facc15" stroke-width="3" stroke-dasharray="6"/>
                            <text x="360" y="165" font-family="Inter" font-size="11" fill="#d97706" font-weight="bold">Equilibrium (E)</text>
                            <text x="50" y="100" font-family="JetBrains Mono" font-size="9" fill="#64748b">Range = P_Open * (1 + V_up)</text>
                            <text x="50" y="220" font-family="JetBrains Mono" font-size="9" fill="#64748b">Range = P_Open * (1 - V_down)</text>
                        </svg>
                    </div>
                    <div class="latex-block overflow-x-auto">
                        $$ E = \frac{Cap_{top} + Cap_{bot}}{2} $$
                        $$ \text{Bias} = \begin{cases} \text{BULLISH} & \text{if } P_{live} > E \\ \text{BEARISH} & \text{if } P_{live} < E \end{cases} $$
                    </div>
                </div>
            </section>
        </div>

        <!-- NEW: TEMPORAL GRAVITY -->
        <div class="sheet">
            <section id="temporal-gravity">
                <h2>5.0 Temporal Gravity & Decay</h2>
                <p>
                    Just as larger planets exert stronger gravitational pull, higher timeframes (L0, L2) exert stronger "Mean Reversion" gravity than lower timeframes (L8, L11).
                </p>
                <div class="diagram-box p-8 bg-slate-50">
                    <div class="diagram-label">Figure 5.1: Gravity Well Visualization</div>
                    <svg class="diagram-svg" viewBox="0 0 600 200">
                        <!-- L0 Gravity -->
                        <circle cx="100" cy="100" r="80" fill="none" stroke="#1e293b" stroke-width="1"/>
                        <circle cx="100" cy="100" r="60" fill="none" stroke="#1e293b" stroke-width="0.5"/>
                        <circle cx="100" cy="100" r="10" fill="#1e293b"/>
                        <text x="100" y="195" font-family="Inter" font-size="10" text-anchor="middle" font-weight="bold">L0 (MASSIVE)</text>
                        
                        <!-- L4 Gravity -->
                        <circle cx="300" cy="100" r="50" fill="none" stroke="#3b82f6" stroke-width="1"/>
                        <circle cx="300" cy="100" r="8" fill="#3b82f6"/>
                        <text x="300" y="195" font-family="Inter" font-size="10" text-anchor="middle" font-weight="bold">L4 (MODERATE)</text>

                        <!-- L11 Gravity -->
                        <circle cx="500" cy="100" r="20" fill="none" stroke="#ef4444" stroke-width="1"/>
                        <circle cx="500" cy="100" r="4" fill="#ef4444"/>
                        <text x="500" y="195" font-family="Inter" font-size="10" text-anchor="middle" font-weight="bold">L11 (WEAK)</text>

                        <!-- Pull Lines -->
                        <line x1="110" y1="100" x2="250" y2="100" stroke="#cbd5e1" stroke-dasharray="4" marker-start="url(#arrow)"/>
                    </svg>
                    <div class="diagram-caption">Price is pulled towards the Equilibrium of the dominant active timeframe.</div>
                </div>
                <div class="latex-block overflow-x-auto">
                    $$ G_{force} \propto \frac{1}{2^L} \times |P_{live} - E_L| $$
                    <p class="text-sm mt-2">Gravity increases as price deviates further from Equilibrium ($E$), but decays exponentially as Level ($L$) increases.</p>
                </div>
            </section>
        </div>

        <!-- NEW: STRUCTURAL CONFLUENCE -->
        <div class="sheet">
            <section id="confluence">
                <h2>6.0 Structural Confluence</h2>
                <p>
                    A high-probability trade setup occurs when the support/resistance levels of multiple distinct timeframes align mathematically. This is called "Confluence."
                </p>
                <div class="diagram-box p-8 bg-white">
                    <div class="diagram-label">Figure 6.1: Level Alignment</div>
                    <svg class="diagram-svg" viewBox="0 0 500 250">
                        <line x1="50" y1="50" x2="450" y2="50" stroke="#1e293b" stroke-width="4"/>
                        <text x="460" y="55" font-family="Inter" font-size="10" fill="#1e293b">L2 RESISTANCE</text>

                        <line x1="50" y1="120" x2="450" y2="120" stroke="#3b82f6" stroke-width="2"/>
                        <text x="460" y="125" font-family="Inter" font-size="10" fill="#3b82f6">L4 TOP CAP</text>

                        <line x1="50" y1="200" x2="450" y2="200" stroke="#ef4444" stroke-width="1"/>
                        <text x="460" y="205" font-family="Inter" font-size="10" fill="#ef4444">L11 TOP CAP</text>

                        <!-- Confluence Zone -->
                        <rect x="200" y="40" width="100" height="170" fill="rgba(252, 165, 165, 0.2)" stroke="#ef4444" stroke-dasharray="4"/>
                        <text x="250" y="130" font-family="Inter" font-size="12" font-weight="bold" fill="#b91c1c" text-anchor="middle" transform="rotate(-90 250 130)">CONFLUENCE ZONE</text>
                    </svg>
                    <div class="diagram-caption">When L2, L4, and L11 caps align within a margin of error, the probability of reversal approaches maximum.</div>
                </div>
            </section>
        </div>

        <!-- EXECUTION MODULES -->
        <div class="sheet">
            <section id="execution">
                <h2>7.0 Execution Modules</h2>
                <p>
                    Data without execution is noise. The RSA Engine provides specific heuristics for "L11 Execution" within "L8 Context".
                </p>
                <div class="diagram-box p-8 bg-white">
                    <div class="diagram-label">Figure 7.1: Setup Schematics</div>
                    <svg class="diagram-svg" viewBox="0 0 600 250">
                        <!-- Setup A: Expansion -->
                        <g transform="translate(50, 20)">
                            <text x="100" y="20" font-family="Inter" font-size="10" font-weight="bold" fill="#047857" text-anchor="middle">SETUP A: EXPANSION (Bull)</text>
                            <rect x="0" y="30" width="200" height="180" fill="#ecfdf5" stroke="#10b981" rx="4"/>
                            <line x1="10" y1="120" x2="190" y2="120" stroke="#facc15" stroke-dasharray="4" stroke-width="2"/>
                            <line x1="10" y1="180" x2="190" y2="180" stroke="#059669" stroke-width="2"/>
                            <text x="190" y="175" font-family="JetBrains Mono" font-size="8" text-anchor="end" fill="#059669">L11 Bot Cap</text>
                            <polyline points="20,100 60,80 100,180 140,140 180,60" fill="none" stroke="#10b981" stroke-width="2"/>
                            <circle cx="100" cy="180" r="6" fill="#10b981"/>
                            <text x="100" y="200" font-family="Inter" font-size="9" text-anchor="middle" font-weight="bold" fill="#047857">ENTRY</text>
                            <text x="100" y="110" font-family="Inter" font-size="8" text-anchor="middle" fill="#d97706">Above Eq = Trend</text>
                        </g>

                        <!-- Setup B: Contraction -->
                        <g transform="translate(350, 20)">
                            <text x="100" y="20" font-family="Inter" font-size="10" font-weight="bold" fill="#b91c1c" text-anchor="middle">SETUP B: CONTRACTION (Bear)</text>
                            <rect x="0" y="30" width="200" height="180" fill="#fef2f2" stroke="#ef4444" rx="4"/>
                            <line x1="10" y1="120" x2="190" y2="120" stroke="#facc15" stroke-dasharray="4" stroke-width="2"/>
                            <line x1="10" y1="60" x2="190" y2="60" stroke="#b91c1c" stroke-width="2"/>
                            <text x="190" y="55" font-family="JetBrains Mono" font-size="8" text-anchor="end" fill="#b91c1c">L11 Top Cap</text>
                            <polyline points="20,140 60,160 100,60 140,100 180,190" fill="none" stroke="#ef4444" stroke-width="2"/>
                            <circle cx="100" cy="60" r="6" fill="#ef4444"/>
                            <text x="100" y="40" font-family="Inter" font-size="9" text-anchor="middle" font-weight="bold" fill="#b91c1c">ENTRY</text>
                            <text x="100" y="135" font-family="Inter" font-size="8" text-anchor="middle" fill="#d97706">Below Eq = Trend</text>
                        </g>
                    </svg>
                </div>
            </section>
        </div>

        <!-- NEW: RISK PROTOCOL -->
        <div class="sheet">
            <section id="risk-protocol">
                <h2>8.0 Risk Management Protocol</h2>
                <p>
                    Position sizing must be inverse to the timeframe volatility. Higher timeframes have wider ranges, thus requiring smaller position sizes to maintain constant risk.
                </p>
                <div class="diagram-box p-8 bg-slate-50">
                    <div class="diagram-label">Figure 8.1: Inverse Sizing Law</div>
                    <svg class="diagram-svg" viewBox="0 0 500 200">
                        <text x="50" y="30" font-family="Inter" font-size="10" font-weight="bold">Volatility Range (%)</text>
                        <rect x="50" y="40" width="300" height="20" fill="#ef4444"/>
                        <text x="360" y="55" font-family="JetBrains Mono" font-size="10">L2 (High Vol)</text>

                        <rect x="50" y="80" width="150" height="20" fill="#f59e0b"/>
                        <text x="210" y="95" font-family="JetBrains Mono" font-size="10">L8 (Med Vol)</text>

                        <rect x="50" y="120" width="50" height="20" fill="#10b981"/>
                        <text x="110" y="135" font-family="JetBrains Mono" font-size="10">L11 (Low Vol)</text>

                        <text x="50" y="170" font-family="Inter" font-size="10" font-weight="bold">Position Size ($)</text>
                        <line x1="50" y1="180" x2="400" y2="180" stroke="#000" marker-end="url(#arrow)"/>
                        <text x="400" y="195" font-family="Inter" font-size="9" font-style="italic">L11 allows larger sizing due to tighter stops</text>
                    </svg>
                </div>
                <div class="latex-block overflow-x-auto">
                    $$ \text{Size} = \frac{\text{Risk}_{\%}}{\text{Distance to Cap}} $$
                </div>
            </section>
        </div>

        <!-- ARCHITECTURE -->
        <div class="sheet">
            <section id="architecture">
                <h2>9.0 System Architecture</h2>
                <div id="data-flow" class="mt-8">
                     <h3 class="text-xl font-sans text-slate-900 mb-4">9.1 Data Flow Pipeline</h3>
                    <div class="diagram-box p-8 flex justify-center bg-white">
                        <div class="diagram-label">Figure 9.1: Client-Side Processing Architecture</div>
                        <svg class="diagram-svg" viewBox="0 0 600 200">
                            <defs>
                                <marker id="arrow-blue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                    <path d="M0,0 L0,6 L9,3 z" fill="#2563eb" />
                                </marker>
                            </defs>
                            <g transform="translate(20, 70)">
                                <rect width="100" height="60" rx="4" fill="#fff" stroke="#94a3b8" stroke-dasharray="4"/>
                                <text x="50" y="25" font-family="Inter" font-size="10" text-anchor="middle" font-weight="bold">Binance API</text>
                                <text x="50" y="45" font-family="Inter" font-size="8" text-anchor="middle" fill="#64748b">Public Klines</text>
                            </g>
                            <g transform="translate(160, 70)">
                                <rect width="120" height="60" rx="4" class="node-rect" stroke="#2563eb" stroke-width="2"/>
                                <text x="60" y="35" font-family="Inter" font-size="11" text-anchor="middle" font-weight="bold">Data Ingestion</text>
                            </g>
                            <g transform="translate(320, 20)">
                                <rect width="140" height="160" rx="4" fill="#f8fafc" stroke="#cbd5e1"/>
                                <text x="70" y="20" font-family="Inter" font-size="10" text-anchor="middle" fill="#64748b" font-weight="bold">RSA ENGINE CORE</text>
                                <rect x="20" y="40" width="100" height="30" rx="2" fill="white" stroke="#cbd5e1"/>
                                <text x="70" y="58" font-family="Inter" font-size="9" text-anchor="middle">Time Division</text>
                                <rect x="20" y="80" width="100" height="30" rx="2" fill="white" stroke="#cbd5e1"/>
                                <text x="70" y="98" font-family="Inter" font-size="9" text-anchor="middle">Math Projection</text>
                                <rect x="20" y="120" width="100" height="30" rx="2" fill="white" stroke="#cbd5e1"/>
                                <text x="70" y="138" font-family="Inter" font-size="9" text-anchor="middle">Canvas Paint</text>
                            </g>
                            <g transform="translate(500, 70)">
                                <rect width="80" height="60" rx="4" class="node-rect"/>
                                <text x="40" y="35" font-family="Inter" font-size="11" text-anchor="middle">DOM</text>
                            </g>
                            <line x1="120" y1="100" x2="150" y2="100" class="flow-line" marker-end="url(#arrow-blue)"/>
                            <line x1="280" y1="100" x2="310" y2="100" class="flow-line" marker-end="url(#arrow-blue)"/>
                            <line x1="460" y1="100" x2="490" y2="100" class="flow-line" marker-end="url(#arrow-blue)"/>
                        </svg>
                    </div>
                </div>

                <div id="data-topology" class="mt-12">
                     <h3 class="text-xl font-sans text-slate-900 mb-4">9.2 Data Topology (Memory)</h3>
                     <p>RSA avoids Object-Oriented overhead. Data is flattened into Packed Arrays to prevent Garbage Collection pauses, ensuring consistent 60 FPS.</p>
                    <div class="diagram-box p-8 bg-slate-50">
                        <div class="diagram-label">Figure 9.2: Memory Layout</div>
                        <svg class="diagram-svg" viewBox="0 0 600 150">
                            <g transform="translate(50, 20)">
                                <text x="0" y="0" font-family="Inter" font-size="10" font-weight="bold">Raw OHLCV Array (Float32)</text>
                                <rect x="0" y="10" width="500" height="40" fill="#fff" stroke="#94a3b8"/>
                                <line x1="100" y1="10" x2="100" y2="50" stroke="#e2e8f0"/>
                                <line x1="200" y1="10" x2="200" y2="50" stroke="#e2e8f0"/>
                                <line x1="300" y1="10" x2="300" y2="50" stroke="#e2e8f0"/>
                                <line x1="400" y1="10" x2="400" y2="50" stroke="#e2e8f0"/>
                                <text x="50" y="35" font-family="JetBrains Mono" font-size="10" text-anchor="middle">Time</text>
                                <text x="150" y="35" font-family="JetBrains Mono" font-size="10" text-anchor="middle">Open</text>
                                <text x="250" y="35" font-family="JetBrains Mono" font-size="10" text-anchor="middle">High</text>
                                <text x="350" y="35" font-family="JetBrains Mono" font-size="10" text-anchor="middle">Low</text>
                                <text x="450" y="35" font-family="JetBrains Mono" font-size="10" text-anchor="middle">Close</text>
                            </g>
                            <g transform="translate(50, 90)">
                                <text x="0" y="0" font-family="Inter" font-size="10" font-weight="bold">State Map (Hash Table)</text>
                                <rect x="0" y="10" width="500" height="40" fill="#f1f5f9" stroke="#cbd5e1"/>
                                <text x="20" y="35" font-family="JetBrains Mono" font-size="10" fill="#64748b">activeStats[L8] = { start: TS, end: TS, open: Price }</text>
                            </g>
                        </svg>
                    </div>
                </div>
            </section>
        </div>

        <!-- VISUAL SPECS -->
        <div class="sheet">
            <section id="ui-specs">
                <h2>10.0 Visual Specs</h2>
                <div class="diagram-box p-8 bg-slate-900 border-slate-700">
                    <div class="diagram-label bg-blue-600 text-white border-none">Figure 10.1: The Quad-Window Layout</div>
                    <svg class="diagram-svg" viewBox="0 0 500 300">
                        <rect x="0" y="0" width="500" height="300" fill="#0f172a" rx="4"/>
                        <rect x="10" y="10" width="480" height="30" fill="#1e293b" rx="2"/>
                        <rect x="20" y="18" width="80" height="14" fill="#334155" rx="1"/>
                        <rect x="380" y="18" width="100" height="14" fill="#3b82f6" rx="1"/>
                        <rect x="10" y="50" width="480" height="40" fill="#1e293b" rx="2"/>
                        <rect x="10" y="100" width="235" height="90" fill="#1e293b" stroke="#334155"/>
                        <text x="20" y="115" font-family="Inter" font-size="8" fill="#94a3b8" font-weight="bold">WINDOW 1 (MICRO L8-L11)</text>
                        <path d="M20 150 L50 140 L80 160 L120 130" stroke="#10b981" fill="none"/>
                        <rect x="255" y="100" width="235" height="90" fill="#1e293b" stroke="#334155"/>
                        <text x="265" y="115" font-family="Inter" font-size="8" fill="#94a3b8" font-weight="bold">WINDOW 2 (INTER L5-L7)</text>
                        <path d="M265 150 L295 130 L325 140 L365 120" stroke="#3b82f6" fill="none"/>
                        <rect x="10" y="200" width="235" height="90" fill="#1e293b" stroke="#334155"/>
                        <text x="20" y="215" font-family="Inter" font-size="8" fill="#94a3b8" font-weight="bold">WINDOW 3 (MACRO L2-L4)</text>
                        <path d="M20 250 L50 255 L80 245 L120 260" stroke="#f59e0b" fill="none"/>
                        <rect x="255" y="200" width="235" height="90" fill="#1e293b" stroke="#334155"/>
                        <text x="265" y="215" font-family="Inter" font-size="8" fill="#94a3b8" font-weight="bold">WINDOW 4 (CYCLE L0-L1)</text>
                        <path d="M265 260 L295 250 L325 240 L365 230" stroke="#ef4444" fill="none"/>
                    </svg>
                </div>
            </section>
        </div>

        <!-- NEW: LIMITATIONS -->
        <div class="sheet">
            <section id="limitations">
                <h2>11.0 System Limitations & Constraints</h2>
                <div class="columns-1 md:columns-2 gap-12 text-sm text-slate-600 mb-8">
                    <p class="mb-4 md:mb-0">
                        <strong>1. Cycle Anchor Sensitivity:</strong> The entire mathematical mesh relies on the precise definition of $T_{start}$ (Genesis). A shift of 24 hours in the Cycle Start Date can result in a 3-5% deviation in projected intraday volatility caps ($L_{11}$). Accurate historical data is paramount.
                    </p>
                    <p class="mb-4 md:mb-0">
                        <strong>2. Black Swan Events:</strong> The RSA Engine calculates probable volatility based on independent research. It cannot predict exogenous shocks (Regulation, War, Protocol Failure) that introduce infinite volatility instantly. In such events, price will break all $L_{11}$ caps immediately.
                    </p>
                    <p>
                        <strong>3. Browser Threading:</strong> Being a client-side engine, performance is bound by the user's single-core CPU speed. Extreme zooming on L11 charts with >10,000 candles may cause frame drops below 60fps on legacy hardware.
                    </p>
                </div>
            </section>
        </div>

        <!-- DISCLAIMER -->
        <div class="sheet mb-20 border-t-0">
            <section id="disclaimer">
                <h3 class="font-sans text-xs font-bold text-slate-400 uppercase tracking-widest mb-4">12.0 Disclaimer & Liability</h3>
                <p class="text-xs text-slate-500 text-justify leading-relaxed">
                    The RSA Engine PRO (v2.9.31) is a technical analysis tool provided for educational and informational purposes only. It does not constitute financial advice, investment recommendation, or an offer to buy or sell any assets. The mathematical projections derived from the recursive analysis are theoretical and based on independent research and theoretical modeling. Cryptocurrency markets are highly volatile; use this software at your own risk. The developers assume no liability for trading losses incurred through the use of this engine.
                </p>
                <div class="mt-8 pt-8 border-t border-slate-200 flex justify-between items-center">
                    <div class="text-xs font-mono text-slate-400">© 2026 Adiyat Coto. All rights reserved.</div>
                    <div class="text-xs font-sans text-slate-400">v2.9.31-stable</div>
                </div>
            </section>
        </div>
    </main>

    <script>
        // Toggle mobile menu visibility
        const menuToggle = document.getElementById('menu-toggle');
        const navMenu = document.getElementById('nav-menu');
        
        menuToggle.addEventListener('click', () => {
            navMenu.classList.toggle('hidden');
        });

        // Close menu when a link is clicked
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', () => {
                // Only close if we are in mobile view (where the toggle button is visible)
                if (window.getComputedStyle(menuToggle).display !== 'none') {
                    navMenu.classList.add('hidden');
                }
            });
        });
    </script>

</body>
</html>
